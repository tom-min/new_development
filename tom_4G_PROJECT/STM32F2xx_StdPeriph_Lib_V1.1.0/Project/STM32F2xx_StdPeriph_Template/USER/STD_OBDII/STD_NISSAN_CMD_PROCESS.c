/**
  ******************************************************************************
  * @file    I2C/I2C_TwoBoards/MasterReceiverInterrupt/main.c
  * @author  MCD Application Team
  * @version V1.1.0
  * @date    13-April-2012
  * @brief   Main program body
  ******************************************************************************
  * @attention
  *
  * <h2><center>&copy; COPYRIGHT 2012 STMicroelectronics</center></h2>
  *
  * Licensed under MCD-ST Liberty SW License Agreement V2, (the "License");
  * You may not use this file except in compliance with the License.
  * You may obtain a copy of the License at:
  *
  *        http://www.st.com/software_license_agreement_liberty_v2
  *
  * Unless required by applicable law or agreed to in writing, software
  * distributed under the License is distributed on an "AS IS" BASIS,
  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  * See the License for the specific language governing permissions and
  * limitations under the License.
  *
  ******************************************************************************
  */

/* Includes ------------------------------------------------------------------*/

#include "user_queue.h"
#include "STD_OBD_SendRecv.h"
#include "Fcar_Api.h"
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include "STD_NISSAN_CMD_PROCESS.h"
#include "FreeRTOS.h"
#include "task.h"
#include "stdint.h"


uint8_t NISSAN_iSystem_Mode_Size[6] = {0,6,5,6,5,6};//每个系统存在的协议的个数，第一次扫描的时候要用到
//uint8_t NISSAN_iSystem_Mode_Size[6] = {0,1,0,0,0,0};//每个系统存在的协议的个数，第一次扫描的时候要用到

intptr_t m_protocol_index_NISSAN[6] = {-1,-1,-1,-1,-1,-1};   //记录侦测到的协议,5个系统的,初始化为-1
uint8_t m_mode_ReadDtc_Type[28] = {34,19,8,1,1,8,22,2,1,2,2,5,1,16,1,1,4,27,1,2,1,6,1,6,5,1,4,1};//每一个模式的读码种类
intptr_t m_mode_ReadDtc_Type_index[28] = {-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1};
bool m_first_NISSAN = true;

uint8_t m_CAN_ANS_T_NISSAN;
uint8_t m_CAN_ANS_R_NISSAN;
uint8_t m_CAN_LISTEN_TYPE_NISSAN;
extern uint32_t m_canbussendid_NISSAN;/*系统默认发送ID*/
extern uint32_t m_canbusflowid_NISSAN;/*当前系统发送ID*/
extern uint32_t m_canbusreadid;/*当前系统接收ID*/
extern uint32_t m_canbusflowidchang_NISSAN;/*需要改变的发送ID*/
extern uint32_t m_canbusreadidchang_NISSAN;/*需要改变的接收ID*/

extern DEFAULT_MSGATTR g_defaultMsgAttr;

//bool b_add_6a_NISSAN = false;

//uint8_t data_flag = 0;
//uint8_t diag_flag = 0;

extern Vehicle_diagnosis g_vehiclediagnosie;
extern Data_collection g_datacollection;

static uint32_t m_modulebuf[256];
extern uint8_t m_modulenum;
extern uint8_t m_setmodule;
extern uint32_t m_canbussendid;
extern uint32_t m_canbusflowid;
extern uint8_t m_KwpWord1;
//初始化IO命令
const CMD_INIT_NISSAN InitIoCmd_NISSAN[]=\
{
    // 序号
    // 初始化IO的打包方式ORD 10 11 12 13 等
    // 进系统命令
    // 退系统命令
    // 读码命令
    // 读码模式
    // 码号Pos位
    // 清码命令

    //发动机

    {   //CAN
        {NISSAN_MODE_00}, //初始化模式
        {MSG_Init_CAN_PackType_NISSAN},//打包方式
        {0x2c,0x01,0x07,0xA1,0x20,0x02,0x82,0x03,0x01,0x04,0x00,0x00,0x07,0xE0,0x05,0x00,0x00,0x07,0xE8,0x06,0x00,0x00,0x00,0x00,0x07,0x00,0x00,0x00,0x00,0x08,0x00,0x00,0x00,0x00,0x09,0x01,0x00,0x0a,0x00,0x00,0x0b,0x00,0x00,0x0c,0xE6},
        {0x02,0x10,0xc0},
        {0x02,0x10,0x81}
    },
    {   //CAN
        {NISSAN_MODE_01},
        {MSG_Init_CAN_PackType_NISSAN},//打包方式
        {0x2c,0x01,0x07,0xA1,0x20,0x02,0x82,0x03,0x01,0x04,0x00,0x00,0x07,0xE0,0x05,0x00,0x00,0x07,0xE8,0x06,0x00,0x00,0x00,0x00,0x07,0x00,0x00,0x00,0x00,0x08,0x00,0x00,0x00,0x00,0x09,0x01,0x00,0x0a,0x00,0x00,0x0b,0x00,0x00,0x0c,0xE6},
        {0x02,0x10,0x01},
        {0x02,0x10,0x03}
    },
    {   //CAN
        {NISSAN_MODE_02}, // 可以跟模式一合并
        {MSG_Init_CAN_PackType_NISSAN},
        {0x2c,0x01,0x03,0xd0,0x90,0x02,0x82,0x03,0x01,0x04,0x00,0x00,0x07,0xE0,0x05,0x00,0x00,0x07,0xE8,0x06,0x00,0x00,0x00,0x00,0x07,0x00,0x00,0x00,0x00,0x08,0x00,0x00,0x00,0x00,0x09,0x01,0x00,0x0a,0x00,0x00,0x0b,0x00,0x00,0x0c,0xE6},
        {0x02,0x10,0xc0},
        {0x02,0x10,0x81}
    },
    {   //KWP 10400 13
        {NISSAN_MODE_03},
        {MSG_Init_KWP_PackType_NISSAN},
        {0x2B,0x01,0x00,0x28,0xA0,0x02,0x00,0x03,0xC0,0x04,0x77,0xff,0xc1,0xc1,0x05,0x0f,0x21,0x37,0x06,0x04,0x00,0x19,0x06,0x03,0x07,0x02,0x00,0x19,0x80,0x19,0x08,0x25,0x09,0x00,0x0A,0x00,0x00,0x00,0x0B,0x00,0x0c,0x01,0x00,0x00},
        {0x01,0x81},
        {0x01,0x82}

    },
    {   //KWP 10400 10
        {NISSAN_MODE_04},
        {MSG_Init_KWP_PackType_NISSAN},
        {0x2B,0x01,0x00,0x28,0xA0,0x02,0x00,0x03,0xC0,0x04,0x77,0xff,0xc1,0xc1,0x05,0x0f,0x21,0x37,0x06,0x04,0x00,0x19,0x06,0x03,0x07,0x02,0x00,0x19,0x80,0x19,0x08,0x25,0x09,0x00,0x0A,0x00,0x00,0x00,0x0B,0x00,0x0c,0x01,0x00,0x00},
        {0x01,0x81},
        {0x01,0x82}
    },
    {   //KWP 10400 13
        {NISSAN_MODE_05},
        {MSG_Init_KWP_PackType_NISSAN},
        {0x2B,0x01,0x00,0x28,0xA0,0x02,0x00,0x03,0xC0,0x04,0x77,0xff,0xc1,0xc1,0x05,0x0f,0x21,0x37,0x06,0x04,0x00,0x19,0x06,0x03,0x07,0x02,0x00,0x19,0x80,0x19,0x08,0x25,0x09,0x00,0x0A,0x00,0x00,0x00,0x0B,0x00,0x0c,0x01,0x00,0x00},
        {0x01,0x81},
        {0x01,0x82}
    },
    //transmission
    {
        {NISSAN_MODE_06},
        {MSG_Init_CAN_PackType_NISSAN},
        {0x2c,0x01,0x07,0xA1,0x20,0x02,0x82,0x03,0x01,0x04,0x00,0x00,0x07,0xE1,0x05,0x00,0x00,0x07,0xE9,0x06,0x00,0x00,0x00,0x00,0x07,0x00,0x00,0x00,0x00,0x08,0x00,0x00,0x00,0x00,0x09,0x01,0x00,0x0a,0x00,0x00,0x0b,0x00,0x00,0x0c,0xE6},
        {0x02,0x10,0xc0},
        {0x02,0x10,0x81}
    },
    {
        {NISSAN_MODE_07},
        {MSG_Init_CAN_PackType_NISSAN},
        {0x2c,0x01,0x07,0xA1,0x20,0x02,0x82,0x03,0x01,0x04,0x00,0x00,0x07,0xE1,0x05,0x00,0x00,0x07,0xE9,0x06,0x00,0x00,0x00,0x00,0x07,0x00,0x00,0x00,0x00,0x08,0x00,0x00,0x00,0x00,0x09,0x01,0x00,0x0a,0x00,0x00,0x0b,0x00,0x00,0x0c,0xE6},
        {0x02,0x10,0x01},
        {0x02,0x10,0x03}
    },
    {
        {NISSAN_MODE_08},
        {MSG_Init_CAN_PackType_NISSAN},
        {0x2c,0x01,0x03,0xd0,0x90,0x02,0x82,0x03,0x01,0x04,0x00,0x00,0x07,0xE1,0x05,0x00,0x00,0x07,0xE9,0x06,0x00,0x00,0x00,0x00,0x07,0x00,0x00,0x00,0x00,0x08,0x00,0x00,0x00,0x00,0x09,0x01,0x00,0x0a,0x00,0x00,0x0b,0x00,0x00,0x0c,0xE6},
        {0x02,0x10,0xc0},
        {0x02,0x10,0x81}
    },
    {
        {NISSAN_MODE_09},
        {MSG_Init_KWP_PackType_NISSAN},
        {0x2B,0x01,0x00,0x28,0xA0,0x02,0x00,0x03,0xC0,0x04,0x77,0xff,0xc1,0xc1,0x05,0x0f,0x21,0x37,0x06,0x04,0x00,0x19,0x06,0x03,0x07,0x02,0x00,0x19,0x80,0x19,0x08,0x25,0x09,0x00,0x0A,0x00,0x00,0x00,0x0B,0x00,0x0c,0x01,0x00,0x00},
        {0x01,0x81},
        {0x01,0x82}
    },
    {
        {NISSAN_MODE_10},
        {MSG_Init_KWP_PackType_NISSAN},
        {0x2B,0x01,0x00,0x28,0xA0,0x02,0x00,0x03,0xC0,0x04,0x77,0xff,0xc1,0xc1,0x05,0x0f,0x21,0x37,0x06,0x04,0x00,0x19,0x06,0x03,0x07,0x02,0x00,0x19,0x80,0x19,0x08,0x25,0x09,0x00,0x0A,0x00,0x00,0x00,0x0B,0x00,0x0c,0x01,0x00,0x00},
        {0x01,0x81},
        {0x01,0x82}
    },
    //ABS
    {   //CAN
        {NISSAN_MODE_11},
        {MSG_Init_CAN_PackType_NISSAN},
        {0x2c,0x01,0x07,0xA1,0x20,0x02,0x82,0x03,0x01,0x04,0x00,0x00,0x07,0x40,0x05,0x00,0x00,0x07,0x60,0x06,0x00,0x00,0x00,0x00,0x07,0x00,0x00,0x00,0x00,0x08,0x00,0x00,0x00,0x00,0x09,0x01,0x00,0x0a,0x00,0x00,0x0b,0x00,0x00,0x0c,0xE6},
        {0x02,0x10,0x01},
        {0x02,0x10,0x03}
    },
    {   //CAN
        {NISSAN_MODE_12},
        {MSG_Init_CAN_PackType_NISSAN},
        {0x2c,0x01,0x07,0xA1,0x20,0x02,0x82,0x03,0x01,0x04,0x00,0x00,0x06,0x32,0x05,0x00,0x00,0x04,0x86,0x06,0x00,0x00,0x00,0x00,0x07,0x00,0x00,0x00,0x00,0x08,0x00,0x00,0x00,0x00,0x09,0x01,0x00,0x0a,0x00,0x00,0x0b,0x00,0x00,0x0c,0xE6},
        {0x02,0x10,0x01},
        {0x02,0x10,0x03}
    },
    {   //CAN
        {NISSAN_MODE_13},
        {MSG_Init_CAN_PackType_NISSAN},
        {0x2c,0x01,0x07,0xA1,0x20,0x02,0x82,0x03,0x01,0x04,0x00,0x00,0x07,0x40,0x05,0x00,0x00,0x07,0x60,0x06,0x00,0x00,0x00,0x00,0x07,0x00,0x00,0x00,0x00,0x08,0x00,0x00,0x00,0x00,0x09,0x01,0x00,0x0a,0x00,0x00,0x0b,0x00,0x00,0x0c,0xE6},
        {0x02,0x10,0xc0},
        {0x02,0x10,0x81},

    },


    {   //CAN
        {NISSAN_MODE_14},
        {MSG_Init_CAN_PackType_NISSAN},
        {0x2c,0x01,0x07,0xA1,0x20,0x02,0x82,0x03,0x01,0x04,0x00,0x00,0x07,0xB0,0x05,0x00,0x00,0x07,0xB8,0x06,0x00,0x00,0x00,0x00,0x07,0x00,0x00,0x00,0x00,0x08,0x00,0x00,0x00,0x00,0x09,0x01,0x00,0x0a,0x00,0x00,0x0b,0x00,0x00,0x0c,0xcd},
        {0x02,0x10,0x01},
        {0x02,0x10,0x01}

    },
    {   //KWP 10400 29
        {NISSAN_MODE_15},
        {MSG_Init_KWP_PackType_NISSAN},
        {0x2B,0x01,0x00,0x28,0xA0,0x02,0x00,0x03,0xC0,0x04,0x77,0xff,0xc1,0xc1,0x05,0x0f,0x21,0x37,0x06,0x04,0x00,0x19,0x06,0x03,0x07,0x02,0x00,0x19,0x80,0x19,0x08,0x25,0x09,0x00,0x0A,0x00,0x00,0x00,0x0B,0x00,0x0c,0x01,0x00,0x00},
        {0x01,0x81},
        {0x01,0x82}
    },
    {   //KWP 10400 29
        {NISSAN_MODE_16},
        {MSG_Init_KWP_PackType_NISSAN},
        {0x2B,0x01,0x00,0x28,0xA0,0x02,0x00,0x03,0xC0,0x04,0x77,0xff,0xc1,0xc1,0x05,0x0f,0x21,0x37,0x06,0x04,0x00,0x19,0x06,0x03,0x07,0x02,0x00,0x19,0x80,0x19,0x08,0x25,0x09,0x00,0x0A,0x00,0x00,0x00,0x0B,0x00,0x0c,0x01,0x00,0x00},
        {0x01,0x81},
        {0x01,0x82}
    },

    //Body  //BCM
    {   //CAN
        {NISSAN_MODE_17},
        {MSG_Init_CAN_PackType_NISSAN},
        {0x2c,0x01,0x07,0xA1,0x20,0x02,0x82,0x03,0x01,0x04,0x00,0x00,0x07,0x45,0x05,0x00,0x00,0x07,0x65,0x06,0x00,0x00,0x00,0x00,0x07,0x00,0x00,0x00,0x00,0x08,0x00,0x00,0x00,0x00,0x09,0x01,0x00,0x0a,0x00,0x00,0x0b,0x00,0x00,0x0c,0xE6},
        {0x02,0x10,0xc0},
        {0x02,0x10,0x81}

    },


    {   //CAN
        {NISSAN_MODE_18},
        {MSG_Init_CAN_PackType_NISSAN},
        {0x2c,0x01,0x07,0xA1,0x20,0x02,0x82,0x03,0x01,0x04,0x00,0x00,0x06,0xF3,0x05,0x00,0x00,0x04,0xDE,0x06,0x00,0x00,0x00,0x00,0x07,0x00,0x00,0x00,0x00,0x08,0x00,0x00,0x00,0x00,0x09,0x01,0x00,0x0a,0x00,0x00,0x0b,0x00,0x00,0x0c,0xE6},
        {0x02,0x10,0x01},
        {0x02,0x10,0x03}

    },
    {   //CAN
        {NISSAN_MODE_19},
        {MSG_Init_CAN_PackType_NISSAN},
        {0x2c,0x01,0x07,0xA1,0x20,0x02,0x82,0x03,0x01,0x04,0x00,0x00,0x07,0x45,0x05,0x00,0x00,0x07,0x65,0x06,0x00,0x00,0x00,0x00,0x07,0x00,0x00,0x00,0x00,0x08,0x00,0x00,0x00,0x00,0x09,0x01,0x00,0x0a,0x00,0x00,0x0b,0x00,0x00,0x0c,0xE6},
        {0x02,0x10,0x01},
        {0x02,0x10,0x03}

    },
    {   //KWP 10400 58
        {NISSAN_MODE_20},
        {MSG_Init_KWP_PackType_NISSAN},
        {0x2B,0x01,0x00,0x28,0xA0,0x02,0x00,0x03,0xC0,0x04,0x77,0xff,0xc1,0xc1,0x05,0x0f,0x21,0x37,0x06,0x04,0x00,0x19,0x06,0x03,0x07,0x02,0x00,0x19,0x80,0x19,0x08,0x25,0x09,0x00,0x0A,0x00,0x00,0x00,0x0B,0x00,0x0c,0x01,0x00,0x00},
        {0x01,0x81},
        {0x01,0x82}
    },

    {
        {NISSAN_MODE_21},
        {MSG_Init_KWP_PackType_NISSAN},
        {0x2B,0x01,0x00,0x28,0xA0,0x02,0x00,0x03,0xC0,0x04,0x77,0xff,0xc1,0xc1,0x05,0x0f,0x21,0x37,0x06,0x04,0x00,0x19,0x06,0x03,0x07,0x02,0x00,0x19,0x80,0x19,0x08,0x25,0x09,0x00,0x0A,0x00,0x00,0x00,0x0B,0x00,0x0c,0x01,0x00,0x00},
        {0x01,0x81},
        {0x01,0x82}
    },

    {
        //AIRBAG
        {NISSAN_MODE_22},
        {MSG_Init_CAN_PackType_NISSAN},
        {0x2c,0x01,0x07,0xA1,0x20,0x02,0x82,0x03,0x01,0x04,0x00,0x00,0x06,0x4A,0x05,0x00,0x00,0x04,0x89,0x06,0x00,0x00,0x00,0x00,0x07,0x00,0x00,0x00,0x00,0x08,0x00,0x00,0x00,0x00,0x09,0x01,0x00,0x0a,0x00,0x00,0x0b,0x00,0x00,0x0c,0xE6},
        {0x02,0x10,0x01},
        {0x02,0x10,0x03}
    },
    {
        {NISSAN_MODE_23},
        {MSG_Init_CAN_PackType_NISSAN},
        {0x2c,0x01,0x07,0xA1,0x20,0x02,0x82,0x03,0x01,0x04,0x00,0x00,0x07,0x52,0x05,0x00,0x00,0x07,0x72,0x06,0x00,0x00,0x00,0x00,0x07,0x00,0x00,0x00,0x00,0x08,0x00,0x00,0x00,0x00,0x09,0x01,0x00,0x0a,0x00,0x00,0x0b,0x00,0x00,0x0c,0xE6},
        {0x02,0x10,0x01},
        {0x02,0x10,0x03}
    },
    {
        {NISSAN_MODE_24},
        {MSG_Init_CAN_PackType_NISSAN},
        {0x2c,0x01,0x07,0xA1,0x20,0x02,0x82,0x03,0x01,0x04,0x00,0x00,0x07,0x52,0x05,0x00,0x00,0x07,0x72,0x06,0x00,0x00,0x00,0x00,0x07,0x00,0x00,0x00,0x00,0x08,0x00,0x00,0x00,0x00,0x09,0x01,0x00,0x0a,0x00,0x00,0x0b,0x00,0x00,0x0c,0xE6},
        {0x02,0x10,0xc0},
        {0x02,0x10,0x81}
    },
    {
        {NISSAN_MODE_25}, //mode 21
        {MSG_Init_CAN_PackType_NISSAN},
        {0x2c,0x01,0x07,0xA1,0x20,0x02,0x82,0x03,0x01,0x04,0x00,0x00,0x07,0x52,0x05,0x00,0x00,0x07,0x72,0x06,0x00,0x00,0x00,0x00,0x07,0x00,0x00,0x00,0x00,0x08,0x00,0x00,0x00,0x00,0x09,0x01,0x00,0x0a,0x00,0x00,0x0b,0x00,0x00,0x0c,0xE6},
        {0x02,0x10,0xc0},
        {0x02,0x10,0x81}
    },

    {
        {NISSAN_MODE_26},
        {MSG_Init_KWP_PackType_NISSAN},
        {0x2B,0x01,0x00,0x28,0xA0,0x02,0x00,0x03,0xC0,0x04,0x77,0xff,0xc1,0xc1,0x05,0x0f,0x21,0x37,0x06,0x04,0x00,0x19,0x06,0x03,0x07,0x02,0x00,0x19,0x80,0x19,0x08,0x25,0x09,0x00,0x0A,0x00,0x00,0x00,0x0B,0x00,0x0c,0x01,0x00,0x00},
        {0x01,0x81},
        {0x01,0x82}
    },
		{
        {NISSAN_MODE_27},
        {MSG_Init_KWP_PackType_NISSAN},
        {0x2B,0x01,0x00,0x28,0xA0,0x02,0x00,0x03,0xC0,0x04,0x77,0xff,0xc1,0xc1,0x05,0x0f,0x21,0x37,0x06,0x04,0x00,0x19,0x06,0x03,0x07,0x02,0x00,0x19,0x80,0x19,0x08,0x25,0x09,0x00,0x0A,0x00,0x00,0x00,0x0B,0x00,0x0c,0x01,0x00,0x00},
        {0x01,0x81},
        {0x01,0x82}
    }

};
// 读码命令组合
//发动机
/********************************************************  mode0****************/
const ReadDtcTypeFilte Rd_D147[2]= {
    { {0x2,0x21,0x83},1,{{0x00,0x00,0x07,0xFF,0x7F }} },
    { {0x2,0x21,0x10},1,{{0x31,0x00,0x02,0xFF,0x80 }} }

};
const ReadDtcTypeFilte Rd_D196[3]= {
    { {0x2,0x21,0x83},2,{{0x01,0x00,0x07,0xFF,0x7F },{0x06,0x01,0x07,0xFF,0x7F }} },
    { {0x2,0x21,0x10},4,{{0x10,0x00,0x02,0xFF,0x80 },{0x10,0x01,0x02,0xFF,0x80 },{0x10,0x02,0x02,0xFF,0x80 },{0x10,0x03,0x02,0xFF,0x80 }} },
    { {0x2,0x21,0xFE},2,{{0x01,0x02,0x07,0xFF,0x7F },{0x06,0x03,0x07,0xFF,0x7F }} }

};
const ReadDtcTypeFilte Rd_D215[1]= {
    { {0x2,0x21,0xFE},1,{{0x11,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D259[2]= {
    { {0x2,0x21,0xFE},2,{{0x21,0x00,0x07,0xFF,0xFF },{0x6C,0x01,0x07,0xFF,0xFF }} },
    { {0x2,0x21,0x80},2,{{0x21,0x02,0x07,0xFF,0xFF },{0x6C,0x03,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D305[1]= {
    { {0x2,0x21,0x80},2,{{0x60,0x00,0x07,0xFF,0xFF },{0x61,0x01,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D337[1]= {
    { {0x2,0x21,0xFE},1,{{0x41,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D338[1]= {
    { {0x2,0x21,0xFE},2,{{0x31,0x00,0x07,0xFF,0xFF },{0x44,0x01,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D339[1]= {
    { {0x2,0x21,0xFE},2,{{0x4D,0x00,0x07,0xFF,0xFF },{0x49,0x01,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D346[1]= {
    { {0x2,0x21,0xFE},5,{{0x22,0x00,0x07,0xFF,0xFF },{0x23,0x01,0x07,0xFF,0xFF },{0x24,0x02,0x07,0xFF,0xFF },{0x25,0x03,0x07,0xFF,0xFF },{0x26,0x04,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D347[1]= {
    { {0x2,0x21,0xFE},2,{{0x70,0x00,0x07,0xFF,0xFF },{0x71,0x01,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D578[1]= {
    { {0x2,0x21,0xFE},4,{{0x92,0x00,0x07,0xFF,0xFF },{0x0C,0x01,0x07,0xFF,0xFF },{0x04,0x02,0x07,0xFF,0xFF },{0x4C,0x03,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D602[1]= {
    { {0x2,0x21,0xFE},3,{{0x02,0x00,0x07,0xFF,0xFF },{0x03,0x01,0x07,0xFF,0xFF },{0x05,0x02,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D606[1]= {
    { {0x2,0x21,0xFE},3,{{0x45,0x00,0x07,0xFF,0xFF },{0x46,0x01,0x07,0xFF,0xFF },{0x48,0x02,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D646[2]= {
    { {0x2,0x21,0x80},1,{{0x47,0x00,0x07,0xFF,0xFF }} },
    { {0x2,0x21,0xFE},2,{{0x47,0x01,0x07,0xFF,0xFF },{0x4C,0x02,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D650[1]= {
    { {0x2,0x21,0xFE},1,{{0x80,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D652[1]= {
    { {0x2,0x21,0x80},2,{{0x01,0x00,0x07,0x0F,0x7F },{0x97,0x00,0x11,0xFF,0x80 }} }

};
const ReadDtcTypeFilte Rd_D653[1]= {
    { {0x2,0x21,0xFE},1,{{0x90,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D727[1]= {
    { {0x2,0x21,0x80},16,{{0x01,0x00,0x07,0xFF,0x7F },{0x08,0x00,0x11,0xFF,0x80 },{0x01,0x01,0x07,0xFF,0x7F },{0x09,0x01,0x11,0xFF,0x80 },{0x09,0x02,0x11,0xFF,0x7F },{0xA1,0x02,0x07,0xFF,0x80 },{0x09,0x03,0x11,0xFF,0x7F },{0x81,0x03,0x07,0xFF,0x80 },{0x09,0x04,0x11,0xFF,0x7F },{0x80,0x04,0x07,0xFF,0x80 },{0x09,0x05,0x11,0xFF,0x7F },{0x82,0x05,0x07,0xFF,0x80 },{0x08,0x06,0x11,0xFF,0x7F },{0x91,0x06,0x07,0xFF,0x80 },{0x08,0x07,0x11,0xFF,0x7F },{0xD1,0x07,0x07,0xFF,0x80 }} }

};
const ReadDtcTypeFilte Rd_D762[1]= {
    { {0x2,0x21,0x83},1,{{0xA0,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D784[1]= {
    { {0x2,0x21,0x80},2,{{0x81,0x00,0x07,0xFF,0x7F },{0x87,0x00,0x11,0xFF,0x80 }} }

};
const ReadDtcTypeFilte Rd_D787[1]= {
    { {0x2,0x21,0xFE},2,{{0x4A,0x00,0x07,0xFF,0xFF },{0x4F,0x01,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D799[1]= {
    { {0x2,0x21,0xFE},2,{{0x4B,0x00,0x07,0xFF,0xFF },{0x4E,0x01,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D816[1]= {
    { {0x2,0x21,0xFE},2,{{0xB0,0x00,0x07,0xFF,0xFF },{0xB1,0x01,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D829[1]= {
    { {0x2,0x21,0xFE},1,{{0xE0,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D835[1]= {
    { {0x2,0x21,0x80},16,{{0x44,0x00,0x07,0xFF,0x7F },{0xDC,0x00,0x11,0xFF,0x80 },{0x47,0x01,0x07,0xFF,0x7F },{0xDC,0x01,0x11,0xFF,0x80 },{0x46,0x02,0x07,0xFF,0x7F },{0xDC,0x02,0x11,0xFF,0x80 },{0x48,0x03,0x07,0xFF,0x7F },{0xDC,0x03,0x11,0xFF,0x80 },{0x54,0x04,0x07,0xFF,0x7F },{0xDC,0x04,0x11,0xFF,0x80 },{0x56,0x05,0x07,0xFF,0x7F },{0xDC,0x05,0x11,0xFF,0x80 },{0x58,0x06,0x07,0xFF,0x7F },{0xDC,0x06,0x11,0xFF,0x80 },{0xDC,0x07,0x11,0xFF,0x7F },{0x57,0x07,0x07,0xFF,0x80 }} }

};
const ReadDtcTypeFilte Rd_D837[1]= {
    { {0x2,0x21,0x80},6,{{0x44,0x00,0x07,0xFF,0x7F },{0xDE,0x00,0x11,0xFF,0x80 },{0x46,0x01,0x07,0xFF,0x7F },{0xDE,0x01,0x11,0xFF,0x80 },{0x48,0x02,0x07,0xFF,0x7F },{0xDE,0x02,0x11,0xFF,0x80 }} }

};
const ReadDtcTypeFilte Rd_D914[1]= {
    { {0x2,0x21,0x80},4,{{0x01,0x00,0x07,0xFF,0x7F },{0x4D,0x00,0x11,0xFF,0x80 },{0x81,0x01,0x07,0xFF,0x7F },{0x4D,0x01,0x11,0xFF,0x80 }} }

};
const ReadDtcTypeFilte Rd_D915[1]= {
    { {0x2,0x21,0x80},4,{{0x44,0x00,0x07,0xFF,0x7F },{0xB7,0x00,0x11,0xFF,0x80 },{0x45,0x01,0x07,0xFF,0x7F },{0xB7,0x01,0x11,0xFF,0x80 }} }

};
const ReadDtcTypeFilte Rd_D954[1]= {
    { {0x2,0x21,0x80},2,{{0x44,0x00,0x07,0xFF,0x7F },{0x78,0x00,0x10,0xFF,0x80 }} }

};
const ReadDtcTypeFilte Rd_D965[1]= {
    { {0x2,0x21,0x80},1,{{0x54,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D980[1]= {
    { {0x2,0x21,0x80},10,{{0x01,0x00,0x07,0xFF,0x7F },{0x10,0x00,0x11,0xFF,0x80 },{0x10,0x01,0x11,0xFF,0x7F },{0x81,0x01,0x07,0xFF,0x80 },{0x10,0x02,0x11,0xFF,0x7F },{0xA1,0x02,0x07,0xFF,0x80 },{0x10,0x03,0x11,0xFF,0x7F },{0xC1,0x03,0x07,0xFF,0x80 },{0x10,0x04,0x11,0xFF,0x7F },{0x41,0x04,0x07,0xFF,0x80 }} }

};
const ReadDtcTypeFilte Rd_D1007[1]= {
    { {0x2,0x21,0x80},1,{{0xB2,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D1018[1]= {
    { {0x2,0x21,0x80},1,{{0x1E,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D579[2]= {
    { {0x2,0x21,0x80},6,{{0x44,0x00,0x07,0xFF,0xFF },{0x48,0x01,0x07,0xFF,0xFF },{0x4C,0x02,0x07,0xFF,0xFF },{0x50,0x03,0x07,0xFF,0xFF },{0x58,0x04,0x07,0xFF,0xFF },{0x00,0x05,0x07,0xFF,0x7F }} },
    { {0x2,0x21,0xFE},1,{{0x54,0x05,0x07,0xFF,0x80 }} }

};
const ReadDtcMode readDtcmode0[]= {
    { 0x02,0x00,Rd_D147,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x03,0x01,Rd_D196,0x03,0x04,{0x3,0x19,0x02,0xFF}},
    { 0x01,0x02,Rd_D215,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x02,0x03,Rd_D259,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x04,Rd_D305,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x05,Rd_D337,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x06,Rd_D338,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x07,Rd_D339,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x08,Rd_D346,0x03,0x04,{0x3,0x19,0x02,0xaf}},
    { 0x01,0x09,Rd_D347,0x03,0x04,{0x3,0x19,0x02,0x0f}},
    { 0x01,0x0A,Rd_D578,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x0B,Rd_D602,0x03,0x04,{0x3,0x19,0x02,0x2F}},
    { 0x01,0x0C,Rd_D606,0x03,0x04,{0x3,0x19,0x02,0x2B}},
    { 0x02,0x0D,Rd_D646,0x03,0x04,{0x3,0x19,0x02,0x2B}},
    { 0x01,0x0E,Rd_D650,0x03,0x04,{0x3,0x19,0x02,0x2B}},
    { 0x01,0x0F,Rd_D652,0x03,0x04,{0x3,0x19,0x02,0x29}},
    { 0x01,0x10,Rd_D653,0x03,0x04,{0x3,0x19,0x02,0xAF}},
    { 0x01,0x11,Rd_D727,0x03,0x04,{0x3,0x19,0x02,0x2B}},
    { 0x01,0x12,Rd_D762,0x03,0x04,{0x3,0x19,0x02,0x0F}},
    { 0x01,0x13,Rd_D784,0x03,0x04,{0x3,0x19,0x02,0x2B}},
    { 0x01,0x14,Rd_D787,0x03,0x04,{0x3,0x19,0x02,0x2B}},
    { 0x01,0x15,Rd_D799,0x03,0x04,{0x3,0x19,0x02,0x2B}},
    { 0x01,0x16,Rd_D816,0x03,0x04,{0x3,0x19,0x02,0xAF}},
    { 0x01,0x17,Rd_D829,0x03,0x04,{0x3,0x19,0x02,0x2B}},
    { 0x01,0x18,Rd_D835,0x03,0x04,{0x3,0x19,0x02,0x2B}},
    { 0x01,0x19,Rd_D837,0x03,0x04,{0x3,0x19,0x02,0x2B}},
    { 0x01,0x1A,Rd_D914,0x03,0x04,{0x3,0x19,0x02,0x2B}},
    { 0x01,0x1B,Rd_D915,0x03,0x04,{0x3,0x19,0x02,0x2B}},
    { 0x01,0x1C,Rd_D954,0x03,0x04,{0x3,0x19,0x02,0x2B}},
    { 0x01,0x1D,Rd_D965,0x03,0x04,{0x3,0x19,0x02,0x2B}},
    { 0x01,0x1E,Rd_D980,0x03,0x04,{0x3,0x19,0x02,0x2B}},
    { 0x01,0x1F,Rd_D1007,0x03,0x04,{0x3,0x19,0x02,0x2B}},
    { 0x01,0x20,Rd_D1018,0x03,0x04,{0x3,0x19,0x02,0x2B}},
    { 0x02,0x21,Rd_D579,0x02,0x03,{0x3,0x17,0xFF,0x00}}
};
/********************************************************  mode0****************/

//发动机
/********************************************************  mode1****************/
const ReadDtcTypeFilte Rd_D737[1]= {
    { {0x3,0x22,0xF1,0x00},14,{{0x20,0x00,0x04,0xFF,0x7F },{0x34,0x00,0x05,0xFF,0x80 },{0x20,0x01,0x04,0xFF,0x7F },{0x35,0x01,0x05,0xFF,0x80 },{0x20,0x02,0x04,0xFF,0x7F },{0x36,0x02,0x05,0xFF,0x80 },{0x50,0x03,0x04,0xFF,0x7F },{0x34,0x03,0x05,0xFF,0x80 },{0x50,0x04,0x04,0xFF,0x7F },{0x35,0x04,0x05,0xFF,0x80 },{0x50,0x05,0x04,0xFF,0x7F },{0x36,0x05,0x05,0xFF,0x80 },{0x20,0x06,0x04,0xFF,0x7F },{0x20,0x06,0x05,0xFF,0x80 }} }

};
const ReadDtcTypeFilte Rd_D765[1]= {
    { {0x3,0x22,0xF1,0x00},4,{{0x3D,0x00,0x04,0xFF,0x7F },{0x03,0x00,0x05,0xFF,0x80 },{0x3D,0x01,0x04,0xFF,0x7F },{0x05,0x01,0x05,0xFF,0x80 }} }

};
const ReadDtcTypeFilte Rd_D796[1]= {
    { {0x3,0x22,0xF1,0xA0},2,{{0x10,0x00,0x03,0xFF,0xFF },{0x11,0x01,0x03,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D800[1]= {
    { {0x3,0x22,0xF1,0xA0},2,{{0xBF,0x00,0x03,0xFF,0xFF },{0xBE,0x01,0x03,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D801[1]= {
    { {0x3,0x22,0xF1,0xA0},3,{{0xF0,0x00,0x03,0xFF,0xFF },{0xF1,0x01,0x03,0xFF,0xFF },{0xF2,0x02,0x03,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D802[1]= {
    { {0x3,0x22,0xF1,0xA0},2,{{0xCA,0x00,0x03,0xFF,0xFF },{0xCB,0x01,0x03,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D832[1]= {
    { {0x3,0x22,0xF1,0xA0},4,{{0x01,0x00,0x03,0xFF,0xFF },{0x02,0x01,0x03,0xFF,0xFF },{0xD1,0x02,0x03,0xFF,0xFF },{0x03,0x03,0x03,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D846[1]= {
    { {0x3,0x22,0xF1,0x00},6,{{0x21,0x00,0x04,0xFF,0x7F },{0x38,0x00,0x05,0xFF,0x80 },{0x21,0x01,0x04,0xFF,0x7F },{0x40,0x01,0x05,0xFF,0x80 },{0x20,0x02,0x04,0xFF,0x7F },{0x21,0x02,0x05,0xFF,0x80 }} }

};
const ReadDtcTypeFilte Rd_D847[1]= {
    { {0x3,0x22,0xF1,0x00},10,{{0x20,0x00,0x04,0xFF,0x7F },{0x3D,0x00,0x05,0xFF,0x80 },{0x28,0x01,0x04,0xFF,0x7F },{0x3D,0x01,0x05,0xFF,0x80 },{0x20,0x02,0x04,0xFF,0x7F },{0x3C,0x02,0x05,0xFF,0x80 },{0x20,0x03,0x04,0xFF,0x7F },{0x07,0x03,0x05,0xFF,0x80 },{0x20,0x04,0x04,0xFF,0x7F },{0x57,0x04,0x05,0xFF,0x80 }} }

};
const ReadDtcTypeFilte Rd_D848[1]= {
    { {0x3,0x22,0xF1,0x00},12,{{0x30,0x00,0x04,0xFF,0x7F },{0x29,0x00,0x05,0xFF,0x80 },{0xB0,0x01,0x04,0xFF,0x7F },{0x01,0x01,0x05,0xFF,0x80 },{0x30,0x02,0x04,0xFF,0x7F },{0x32,0x02,0x05,0xFF,0x80 },{0xB0,0x03,0x04,0xFF,0x7F },{0x03,0x03,0x05,0xFF,0x80 },{0x30,0x04,0x04,0xFF,0x7F },{0x33,0x04,0x05,0xFF,0x80 },{0xB0,0x05,0x04,0xFF,0x7F },{0x33,0x05,0x05,0xFF,0x80 }} }

};
const ReadDtcTypeFilte Rd_D895[1]= {
    { {0x3,0x22,0xF1,0x00},20,{{0x20,0x00,0x04,0xFF,0x7F },{0x60,0x00,0x05,0xFF,0x80 },{0x20,0x01,0x04,0xFF,0x7F },{0x61,0x01,0x05,0xFF,0x80 },{0x20,0x02,0x04,0xFF,0x7F },{0x62,0x02,0x05,0xFF,0x80 },{0x20,0x03,0x04,0xFF,0x7F },{0x22,0x03,0x05,0xFF,0x80 },{0x20,0x04,0x04,0xFF,0x7F },{0x50,0x04,0x05,0xFF,0x80 },{0x50,0x05,0x04,0xFF,0x7F },{0x60,0x05,0x05,0xFF,0x80 },{0x50,0x06,0x04,0xFF,0x7F },{0x61,0x06,0x05,0xFF,0x80 },{0x50,0x07,0x04,0xFF,0x7F },{0x62,0x07,0x05,0xFF,0x80 },{0x50,0x08,0x04,0xFF,0x7F },{0x41,0x08,0x05,0xFF,0x80 },{0x50,0x09,0x04,0xFF,0x7F },{0x51,0x09,0x05,0xFF,0x80 }} }

};
const ReadDtcTypeFilte Rd_D909[2]= {
    { {0x3,0x22,0xF1,0xA0},1,{{0x9F,0x00,0x03,0xFF,0x7F }} },
    { {0x3,0x22,0xF1,0x88},1,{{0x01,0x00,0x03,0xFF,0x80 }} }

};
const ReadDtcTypeFilte Rd_D936[2]= {
    { {0x3,0x22,0xF1,0xA0},4,{{0x01,0x00,0x03,0xFF,0x55 },{0x41,0x01,0x03,0xFF,0x55 },{0xC1,0x02,0x03,0xFF,0x55 },{0x81,0x03,0x03,0xFF,0x55 }} },
    { {0x3,0x22,0xF1,0x94},8,{{0x46,0x00,0x05,0xFF,0x55 },{0x45,0x00,0x06,0xFF,0x55 },{0x46,0x01,0x05,0xFF,0x55 },{0x45,0x01,0x06,0xFF,0x55 },{0x46,0x02,0x05,0xFF,0x55 },{0x45,0x02,0x06,0xFF,0x55 },{0x46,0x03,0x05,0xFF,0x55 },{0x45,0x03,0x06,0xFF,0x55 }} }

};
const ReadDtcTypeFilte Rd_D962[1]= {
    { {0x3,0x22,0xF1,0x00},4,{{0xBD,0x00,0x04,0xFF,0x7F },{0x07,0x00,0x05,0xFF,0x80 },{0x3D,0x01,0x04,0xFF,0x7F },{0x07,0x01,0x05,0xFF,0x80 }} }

};
const ReadDtcTypeFilte Rd_D972[2]= {
    { {0x3,0x22,0xF1,0xA0},5,{{0x01,0x00,0x03,0xFF,0x55 },{0x81,0x01,0x03,0xFF,0x55 },{0x41,0x02,0x03,0xFF,0x55 },{0xC1,0x03,0x03,0xFF,0x55 },{0x49,0x04,0x03,0xFF,0x55 }} },
    { {0x3,0x22,0xF1,0x94},10,{{0x30,0x00,0x05,0xFF,0x55 },{0x42,0x00,0x06,0xFF,0x55 },{0x30,0x01,0x05,0xFF,0x55 },{0x42,0x01,0x06,0xFF,0x55 },{0x30,0x02,0x05,0xFF,0x55 },{0x42,0x02,0x06,0xFF,0x55 },{0x30,0x03,0x05,0xFF,0x55 },{0x42,0x03,0x06,0xFF,0x55 },{0x30,0x04,0x05,0xFF,0x55 },{0x42,0x04,0x06,0xFF,0x55 }} }

};
const ReadDtcTypeFilte Rd_D982[1]= {
    { {0x3,0x22,0xF1,0xA0},1,{{0xEF,0x00,0x03,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D1000[1]= {
    { {0x3,0x22,0xF1,0xA0},1,{{0xCC,0x00,0x03,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D1016[1]= {
    { {0x3,0x22,0xF1,0xA0},1,{{0x12,0x00,0x03,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D1027[1]= {
    { {0x3,0x22,0xF1,0xA0},1,{{0xD0,0x00,0x03,0xFF,0xFF }} }

};
const ReadDtcMode readDtcmode1[]= {
    { 0x01,0x22,Rd_D737,0x03,0x04,{0x3,0x19,0x02,0x0C}},
    { 0x01,0x23,Rd_D765,0x03,0x04,{0x3,0x19,0x02,0x0C}},
    { 0x01,0x24,Rd_D796,0x03,0x04,{0x3,0x19,0x02,0xAF}},
    { 0x01,0x25,Rd_D800,0x03,0x04,{0x3,0x19,0x02,0x2B}},
    { 0x01,0x26,Rd_D801,0x03,0x04,{0x3,0x19,0x02,0x2B}},
    { 0x01,0x27,Rd_D802,0x03,0x04,{0x3,0x19,0x02,0x2B}},
    { 0x01,0x28,Rd_D832,0x03,0x04,{0x3,0x19,0x02,0x0F}},
    { 0x01,0x29,Rd_D846,0x03,0x04,{0x3,0x19,0x02,0x0C}},
    { 0x01,0x2A,Rd_D847,0x03,0x04,{0x3,0x19,0x02,0x0C}},
    { 0x01,0x2B,Rd_D848,0x03,0x04,{0x3,0x19,0x02,0x0C}},
    { 0x01,0x2C,Rd_D895,0x03,0x04,{0x3,0x19,0x02,0x0C}},
    { 0x02,0x2D,Rd_D909,0x03,0x04,{0x3,0x19,0x02,0x09}},
    { 0x02,0x2E,Rd_D936,0x03,0x04,{0x3,0x19,0x02,0x2B}},
    { 0x01,0x2F,Rd_D962,0x03,0x04,{0x3,0x19,0x02,0x0C}},
    { 0x02,0x30,Rd_D972,0x03,0x04,{0x3,0x19,0x02,0x2B}},
    { 0x01,0x31,Rd_D982,0x03,0x04,{0x3,0x19,0x02,0x2B}},
    { 0x01,0x32,Rd_D1000,0x03,0x04,{0x3,0x19,0x02,0x2B}},
    { 0x01,0x33,Rd_D1016,0x03,0x04,{0x3,0x19,0x02,0xAF}},
    { 0x01,0x34,Rd_D1027,0x03,0x04,{0x3,0x19,0x02,0x0F}}
};
/********************************************************  mode1****************/

//发动机
/********************************************************  mode2****************/
const ReadDtcTypeFilte Rd_D684[1]= {
    { {0x2,0x21,0x80},2,{{0x24,0x00,0x07,0xFF,0x7F },{0x91,0x00,0x11,0xFF,0x80 }} }

};
const ReadDtcTypeFilte Rd_D685[1]= {
    { {0x2,0x21,0x80},2,{{0x2E,0x00,0x07,0xFF,0x7F },{0x0D,0x00,0x11,0xFF,0x80 }} }

};
const ReadDtcTypeFilte Rd_D691[1]= {
    { {0x2,0x21,0x80},8,{{0x0C,0x00,0x07,0xFF,0x7F },{0xC4,0x00,0x11,0xFF,0x80 },{0xC4,0x01,0x11,0xFF,0x7F },{0x10,0x01,0x07,0xFF,0x80 },{0xC4,0x02,0x11,0xFF,0x7F },{0x14,0x02,0x07,0xFF,0x80 },{0xC4,0x03,0x11,0xFF,0x7F },{0x16,0x03,0x07,0xFF,0x80 }} }

};
const ReadDtcTypeFilte Rd_D696[1]= {
    { {0x2,0x21,0x80},2,{{0x44,0x00,0x07,0xFF,0x7F },{0xAC,0x00,0x11,0xFF,0x80 }} }

};
const ReadDtcTypeFilte Rd_D706[1]= {
    { {0x2,0x21,0x80},2,{{0x14,0x00,0x07,0xFF,0x7F },{0x91,0x00,0x11,0xFF,0x80 }} }

};
const ReadDtcTypeFilte Rd_D710[1]= {
    { {0x2,0x21,0x80},2,{{0x1C,0x00,0x07,0xFF,0x7F },{0x91,0x00,0x11,0xFF,0x80 }} }

};
const ReadDtcTypeFilte Rd_D711[1]= {
    { {0x2,0x21,0x80},6,{{0x04,0x00,0x07,0xFF,0x7F },{0x9A,0x00,0x11,0xFF,0x80 },{0x9A,0x01,0x11,0xFF,0x7F },{0x21,0x01,0x07,0xFF,0x80 },{0x21,0x02,0x07,0xFF,0x7F },{0x04,0x02,0x11,0xFF,0x80 }} }

};
const ReadDtcTypeFilte Rd_D712[1]= {
    { {0x2,0x21,0x80},8,{{0x20,0x00,0x07,0xFF,0x7F },{0x91,0x00,0x11,0xFF,0x80 },{0x91,0x01,0x11,0xFF,0x7F },{0x2C,0x01,0x07,0xFF,0x80 },{0x91,0x02,0x11,0xFF,0x7F },{0x18,0x02,0x07,0xFF,0x80 },{0x91,0x03,0x11,0xFF,0x7F },{0x28,0x03,0x07,0xFF,0x80 }} }

};
const ReadDtcMode readDtcmode2[]= {
    { 0x01,0x35,Rd_D684,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x36,Rd_D685,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x37,Rd_D691,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x38,Rd_D696,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x39,Rd_D706,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x3A,Rd_D710,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x3B,Rd_D711,0x03,0x04,{0x3,0x19,0x02,0x3B}},
    { 0x01,0x3C,Rd_D712,0x02,0x03,{0x3,0x17,0xFF,0x00}}
};
/********************************************************  mode2****************/

//发动机
/********************************************************  mode3****************/
const ReadDtcTypeFilte Rd_D516[1]= {
    { {0x2,0x1A,0x80},1,{{0x5A,0x00,0x00,0xFF,0xFF }} }

};
const ReadDtcMode readDtcmode3[]= {
    { 0x01,0x3D,Rd_D516,0x02,0x03,{0x1,0xA3}}
};
/********************************************************  mode3****************/

//发动机
/********************************************************  mode4****************/
const ReadDtcTypeFilte Rd_D517[1]= {
    { {0x2,0x1A,0x80},1,{{0x5A,0x00,0x00,0xFF,0xFF }} }

};
const ReadDtcMode readDtcmode4[]= {
    { 0x01,0x3E,Rd_D517,0x02,0x03,{0x1,0xA3}}
};
/********************************************************  mode4****************/
//发动机
/********************************************************  mode5****************/
const ReadDtcTypeFilte Rd_D564[1]= {
    { {0x2,0x21,0x80},2,{{0xA3,0x00,0x11,0xFF,0xFF },{0x0C,0x00,0x07,0xFF,0xFF }} }
    

};
const ReadDtcTypeFilte Rd_D565[1]= {
    { {0x2,0x21,0x80},3,{{0x0C,0x00,0x07,0xFF,0xFF },{0xCB,0x00,0x11,0xFF,0xFF },{0x18,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D573[1]= {
    { {0x2,0x21,0x80},1,{{0x00,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D581[1]= {
    { {0x2,0x21,0xFE},1,{{0x61,0x00,0x00,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D704[1]= {
    { {0x2,0x21,0x80},3,{{0x19,0x00,0x07,0xFF,0x55 },{0xCB,0x00,0x11,0xFF,0x55 },{0x12,0x00,0x12,0xFF,0x55 }} }

};
const ReadDtcTypeFilte Rd_D715[1]= {
    { {0x2,0x21,0x80},6,{{0xEA,0x00,0x11,0xFF,0x7F },{0x08,0x00,0x07,0xFF,0x80 },{0xEA,0x01,0x11,0xFF,0x7F },{0x0C,0x01,0x07,0xFF,0x80 },{0xEA,0x02,0x11,0xFF,0x7F },{0x10,0x02,0x07,0xFF,0x80 }} }

};
const ReadDtcTypeFilte Rd_D722[1]= {
    { {0x2,0x21,0x80},2,{{0x08,0x00,0x07,0xFF,0xFF },{0x4C,0x00,0x11,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D718[1]= {
    { {0x2,0x21,0x80},7,{{0x15,0x00,0x07,0xFF,0x7F },{0xE0,0x00,0x11,0xFF,0x80 },{0x15,0x00,0x07,0xFF,0x7F },{0xE1,0x00,0x11,0xFF,0x80 },{0x19,0x00,0x07,0xFF,0x7F },{0xE0,0x00,0x11,0xFF,0x80 },{0x1D,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcMode readDtcmode5[]= {
    { 0x01,0x3F,Rd_D564,0x00,0x00,{0x2,0x21,0xA1}},
    { 0x01,0x40,Rd_D565,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x41,Rd_D573,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x42,Rd_D581,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x43,Rd_D704,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x44,Rd_D715,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x45,Rd_D722,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x46,Rd_D718,0x02,0x03,{0x3,0x17,0xFF,0x00}}
};
/********************************************************  mode5****************/
//变速箱
/********************************************************  mode6****************/
const ReadDtcTypeFilte Rd_D77[2]= {
    { {0x2,0x21,0x83},10,{{0x06,0x00,0x07,0xFF,0xFF },{0x10,0x01,0x07,0xFF,0xFF },{0x13,0x02,0x07,0xFF,0xFF },{0x1C,0x03,0x07,0xFF,0xFF },{0x11,0x04,0x07,0xFF,0xFF },{0x00,0x05,0x07,0xFF,0x7F },{0x00,0x06,0x07,0xFF,0x7F },{0x00,0x07,0x07,0xFF,0x7F },{0x00,0x08,0x07,0xFF,0x7F },{0x00,0x09,0x07,0xFF,0x80 }} },
    { {0x2,0x21,0xF0},5,{{0x06,0x05,0x07,0xFF,0x80 },{0x10,0x06,0x07,0xFF,0x80 },{0x11,0x07,0x07,0xFF,0x80 },{0x13,0x08,0x07,0xFF,0x80 },{0x1C,0x09,0x07,0xFF,0x7F }} }

};
const ReadDtcTypeFilte Rd_D157[3]= {
    { {0x2,0x21,0x83},24,{{0x02,0x00,0x07,0xFF,0xFF },{0x03,0x01,0x07,0xFF,0xFF },{0x04,0x02,0x07,0xFF,0xFF },{0x05,0x03,0x07,0xFF,0xFF },{0x07,0x04,0x07,0xFF,0xFF },{0x12,0x05,0x07,0xFF,0xFF },{0x14,0x06,0x07,0xFF,0xFF },{0x15,0x07,0x07,0xFF,0xFF },{0x16,0x08,0x07,0xFF,0xFF },{0x18,0x09,0x07,0xFF,0xFF },{0x19,0x0A,0x07,0xFF,0xFF },{0x1D,0x0B,0x07,0xFF,0xFF },{0x00,0x18,0x07,0xFF,0x80 },{0x00,0x19,0x07,0xFF,0x80 },{0x00,0x1A,0x07,0xFF,0x80 },{0x00,0x1B,0x07,0xFF,0x80 },{0x00,0x1C,0x07,0xFF,0x80 },{0x00,0x1D,0x07,0xFF,0x80 },{0x00,0x1E,0x07,0xFF,0x80 },{0x00,0x1F,0x07,0xFF,0x80 },{0x00,0x20,0x07,0xFF,0x80 },{0x00,0x21,0x07,0xFF,0x80 },{0x00,0x22,0x07,0xFF,0x80 },{0x00,0x23,0x07,0xFF,0x80 }} },
    { {0x2,0x21,0xFE},12,{{0x02,0x0C,0x07,0xFF,0xFF },{0x03,0x0D,0x07,0xFF,0xFF },{0x04,0x0E,0x07,0xFF,0xFF },{0x05,0x0F,0x07,0xFF,0xFF },{0x07,0x10,0x07,0xFF,0xFF },{0x12,0x11,0x07,0xFF,0xFF },{0x14,0x12,0x07,0xFF,0xFF },{0x15,0x13,0x07,0xFF,0xFF },{0x16,0x14,0x07,0xFF,0xFF },{0x18,0x15,0x07,0xFF,0xFF },{0x19,0x16,0x07,0xFF,0xFF },{0x1D,0x17,0x07,0xFF,0xFF }} },
    { {0x2,0x21,0xF0},12,{{0x02,0x18,0x07,0xFF,0x7F },{0x03,0x19,0x07,0xFF,0x7F },{0x04,0x1A,0x07,0xFF,0x7F },{0x05,0x1B,0x07,0xFF,0x7F },{0x07,0x1C,0x07,0xFF,0x7F },{0x12,0x1D,0x07,0xFF,0x7F },{0x14,0x1E,0x07,0xFF,0x7F },{0x15,0x1F,0x07,0xFF,0x7F },{0x16,0x20,0x07,0xFF,0x7F },{0x18,0x21,0x07,0xFF,0x7F },{0x19,0x22,0x07,0xFF,0x7F },{0x1D,0x23,0x07,0xFF,0x7F }} }

};
const ReadDtcTypeFilte Rd_D240[1]= {
    { {0x2,0x21,0x83},1,{{0x41,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D243[2]= {
    { {0x2,0x21,0x83},3,{{0x82,0x00,0x07,0xFF,0xFF },{0x8C,0x01,0x07,0xFF,0xFF },{0x8D,0x02,0x07,0xFF,0xFF }} },
    { {0x2,0x21,0xF0},3,{{0x82,0x03,0x07,0xFF,0xFF },{0x8C,0x04,0x07,0xFF,0xFF },{0x8D,0x05,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D298[2]= {
    { {0x2,0x21,0x83},5,{{0x80,0x00,0x07,0xFF,0xFF },{0x83,0x02,0x07,0xFF,0xFF },{0x85,0x03,0x07,0xFF,0xFF },{0x89,0x04,0x07,0xFF,0xFF },{0x8B,0x09,0x07,0xFF,0xFF }} },
    { {0x2,0x21,0xFE},5,{{0x8B,0x01,0x07,0xFF,0xFF },{0x80,0x05,0x07,0xFF,0xFF },{0x83,0x06,0x07,0xFF,0xFF },{0x85,0x07,0x07,0xFF,0xFF },{0x89,0x08,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D331[2]= {
    { {0x2,0x21,0x83},19,{{0x08,0x00,0x07,0xFF,0xFF },{0x2C,0x01,0x07,0xFF,0xFF },{0x0D,0x02,0x07,0xFF,0xFF },{0x2D,0x03,0x07,0xFF,0xFF },{0x2E,0x04,0x07,0xFF,0xFF },{0x0E,0x05,0x07,0xFF,0xFF },{0x0F,0x06,0x07,0xFF,0xFF },{0x2F,0x07,0x07,0xFF,0xFF },{0x09,0x0B,0x07,0xFF,0xFF },{0x0A,0x16,0x07,0xFF,0xFF },{0x26,0x1A,0x07,0xFF,0xFF },{0x27,0x1B,0x07,0xFF,0xFF },{0x25,0x1E,0x07,0xFF,0xFF },{0x0B,0x20,0x07,0xFF,0xFF },{0x0C,0x21,0x07,0xFF,0xFF },{0x28,0x22,0x07,0xFF,0xFF },{0x29,0x23,0x07,0xFF,0xFF },{0x2A,0x24,0x07,0xFF,0xFF },{0x2B,0x25,0x07,0xFF,0xFF }} },
    { {0x2,0x21,0xF0},19,{{0x08,0x08,0x07,0xFF,0xFF },{0x09,0x09,0x07,0xFF,0xFF },{0x0A,0x0A,0x07,0xFF,0xFF },{0x0B,0x0C,0x07,0xFF,0xFF },{0x0C,0x0D,0x07,0xFF,0xFF },{0x0D,0x0E,0x07,0xFF,0xFF },{0x0E,0x0F,0x07,0xFF,0xFF },{0x0F,0x10,0x07,0xFF,0xFF },{0x28,0x11,0x07,0xFF,0xFF },{0x29,0x12,0x07,0xFF,0xFF },{0x2A,0x13,0x07,0xFF,0xFF },{0x2B,0x14,0x07,0xFF,0xFF },{0x2C,0x15,0x07,0xFF,0xFF },{0x2D,0x17,0x07,0xFF,0xFF },{0x2E,0x18,0x07,0xFF,0xFF },{0x2F,0x19,0x07,0xFF,0xFF },{0x26,0x1C,0x07,0xFF,0xFF },{0x27,0x1D,0x07,0xFF,0xFF },{0x25,0x1F,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D353[2]= {
    { {0x2,0x21,0x83},4,{{0x84,0x00,0x07,0xFF,0xFF },{0x86,0x01,0x07,0xFF,0xFF },{0x87,0x02,0x07,0xFF,0xFF },{0x88,0x03,0x07,0xFF,0xFF }} },
    { {0x2,0x21,0xF0},4,{{0x84,0x04,0x07,0xFF,0xFF },{0x88,0x05,0x07,0xFF,0xFF },{0x86,0x06,0x07,0xFF,0xFF },{0x87,0x07,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D456[2]= {
    { {0x2,0x21,0x83},1,{{0x01,0x00,0x07,0xFF,0xFF }} },
    { {0x2,0x21,0xF0},1,{{0x01,0x01,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D457[1]= {
    { {0x2,0x21,0x83},1,{{0x81,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D605[1]= {
    { {0x2,0x21,0x83},1,{{0x43,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D664[1]= {
    { {0x2,0x21,0x80},2,{{0x04,0x00,0x07,0xFF,0xFF },{0x08,0x01,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D665[1]= {
    { {0x2,0x21,0x80},1,{{0x14,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D680[2]= {
    { {0x2,0x21,0x83},3,{{0x30,0x00,0x07,0xFF,0xFF },{0x31,0x02,0x07,0xFF,0xFF },{0x32,0x03,0x07,0xFF,0xFF }} },
    { {0x2,0x21,0xF0},3,{{0x30,0x01,0x07,0xFF,0xFF },{0x31,0x04,0x07,0xFF,0xFF },{0x32,0x05,0x07,0xFF,0xFF }} }

};

const ReadDtcTypeFilte Rd_D824[1]= {
    { {0x2,0x21,0x83},1,{{0x45,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D904[3]= {
    { {0x2,0x21,0xF0},2,{{0x50,0x02,0x07,0xFF,0xFF },{0x51,0x03,0x07,0xFF,0xFF }} },
    { {0x2,0x21,0xFE},2,{{0x50,0x04,0x07,0xFF,0xFF },{0x51,0x05,0x07,0xFF,0xFF }} },
    { {0x2,0x21,0x83},2,{{0x50,0x00,0x07,0xFF,0xFF },{0x51,0x01,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D912[1]= {
    { {0x2,0x21,0x83},1,{{0x90,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D913[2]= {
    { {0x2,0x21,0x83},1,{{0x34,0x00,0x07,0xFF,0xFF }} },
    { {0x2,0x21,0xF0},1,{{0x34,0x01,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D929[1]= {
    { {0x2,0x21,0x83},1,{{0xF0,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D933[1]= {
    { {0x2,0x21,0x80},4,{{0x04,0x00,0x07,0xFF,0x7F },{0x96,0x00,0x16,0xFF,0x80 },{0x0C,0x01,0x07,0xFF,0xFF },{0x1C,0x02,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D989[3]= {
    { {0x2,0x21,0x83},1,{{0x51,0x00,0x07,0xFF,0x55 }} },
    { {0x2,0x21,0xF0},1,{{0x50,0x00,0x07,0xFF,0x55 }} },
    { {0x2,0x21,0xFE},1,{{0x51,0x00,0x07,0xFF,0x55 }} }

};
const ReadDtcTypeFilte Rd_D1015[1]= {
    { {0x2,0x21,0x80},2,{{0x14,0x00,0x07,0xFF,0xFF },{0x08,0x01,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D262[1]= {
    { {0x2,0x21,0x83},1,{{0x42,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcMode readDtcmode6[]= {
    { 0x02,0x47,Rd_D77,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x03,0x48,Rd_D157,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x49,Rd_D240,0x03,0x04,{0x3,0x19,0x02,0xFF}},
    { 0x02,0x4A,Rd_D243,0x03,0x04,{0x3,0x19,0x02,0xFF}},
    { 0x02,0x4B,Rd_D298,0x03,0x04,{0x3,0x19,0x02,0xAF}},
    { 0x02,0x4C,Rd_D331,0x03,0x04,{0x3,0x19,0x02,0x2F}},
    { 0x02,0x4D,Rd_D353,0x03,0x04,{0x3,0x19,0x02,0x0F}},
    { 0x02,0x4E,Rd_D456,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x4F,Rd_D457,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x50,Rd_D605,0x03,0x04,{0x3,0x19,0x02,0xFF}},
    { 0x01,0x51,Rd_D664,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x52,Rd_D665,0x03,0x04,{0x3,0x19,0x02,0x29}},
    { 0x02,0x53,Rd_D680,0x03,0x04,{0x3,0x19,0x02,0x2F}},
    { 0x01,0x55,Rd_D824,0x03,0x04,{0x3,0x19,0x02,0x0F}},
    { 0x03,0x56,Rd_D904,0x03,0x04,{0x3,0x19,0x02,0xAF}},
    { 0x01,0x57,Rd_D912,0x03,0x04,{0x3,0x19,0x02,0xAF}},
    { 0x02,0x58,Rd_D913,0x03,0x04,{0x3,0x19,0x02,0xAF}},
    { 0x01,0x59,Rd_D929,0x03,0x04,{0x3,0x19,0x02,0xAF}},
    { 0x01,0x5A,Rd_D933,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x03,0x5B,Rd_D989,0x03,0x04,{0x3,0x19,0x02,0xAF}},
    { 0x01,0x5C,Rd_D1015,0x03,0x04,{0x3,0x19,0x02,0x2B}},
    { 0x01,0x5D,Rd_D262,0x03,0x04,{0x3,0x19,0x02,0xFF}}
};
/********************************************************  mode6****************/
//变速箱
/********************************************************  mode7****************/
const ReadDtcTypeFilte Rd_D854[1]= {
    { {0x3,0x22,0xF1,0x00},4,{{0x01,0x00,0x04,0xFF,0x7F },{0x05,0x00,0x05,0xFF,0x80 },{0x01,0x01,0x04,0xFF,0x7F },{0x01,0x01,0x05,0xFF,0x80 }} }

};
const ReadDtcTypeFilte Rd_D894[1]= {
    { {0x3,0x22,0xF1,0x00},6,{{0x08,0x00,0x04,0xFF,0x7F },{0x04,0x00,0x05,0xFF,0x80 },{0x08,0x01,0x04,0xFF,0x7F },{0x03,0x01,0x05,0xFF,0x80 },{0x08,0x02,0x04,0xFF,0x7F },{0xB5,0x02,0x05,0xFF,0x80 }} },

};
const ReadDtcMode readDtcmode7[]= {
    { 0x01,0x5E,Rd_D854,0x03,0x04,{0x3,0x19,0x02,0x0C}},
    { 0x01,0x5F,Rd_D894,0x03,0x04,{0x3,0x19,0x02,0x0C}}
};
/********************************************************  mode7****************/
//变速箱
/********************************************************  mode8****************/
const ReadDtcTypeFilte Rd_D705[1]= {
    { {0x2,0x21,0x80},2,{{0x10,0x00,0x07,0xFF,0x7F },{0x49,0x00,0x11,0xFF,0x80 }} }

};
const ReadDtcMode readDtcmode8[]= {
    { 0x01,0x60,Rd_D705,0x02,0x03,{0x3,0x17,0xFF,0x00}}
};
/********************************************************  mode8****************/
//变速箱
/********************************************************  mode9****************/
const ReadDtcTypeFilte Rd_D107[1]= {
    { {0x2,0x1A,0x84},1,{{0x52,0x00,0x01,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D512[1]= {
    { {0x2,0x1A,0x84},1,{{0x49,0x00,0x02,0xFF,0xFF }} },

};
const ReadDtcMode readDtcmode9[]= {
    { 0x01,0x61,Rd_D107,0x02,0x02,{0x2,0xA2,0x00}},
    { 0x01,0x62,Rd_D512,0x02,0x02,{0x2,0xA2,0x00}}
};
/********************************************************  mode9****************/

//变速箱
/********************************************************  mode10****************/
const ReadDtcTypeFilte Rd_D695[1]= {
    { {0x2,0x21,0x80},2,{{0x05,0x00,0x07,0xFF,0xFF },{0x09,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D716[1]= {
    { {0x2,0x21,0x80},1,{{0x04,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcMode readDtcmode10[]= {
    { 0x01,0x63,Rd_D695,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x64,Rd_D716,0x02,0x03,{0x3,0x17,0xFF,0x00}}
};
/********************************************************  mode10****************/
//ABS
/********************************************************  mode11****************/
const ReadDtcTypeFilte Rd_D1030[1]= {
    { {0x3,0x22,0xF1,0xA0},1,{{0xA3,0x00,0x03,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D903[1]= {
    { {0x3,0x22,0xF1,0xA0},1,{{0xA2,0x00,0x03,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D978[1]= {
    { {0x3,0x22,0xF1,0xA0},1,{{0x15,0x00,0x03,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D971[1]= {
    { {0x3,0x22,0xF1,0xA0},1,{{0xA0,0x00,0x03,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D988[1]= {
    { {0x3,0x22,0xF1,0xA0},1,{{0xA1,0x00,0x03,0xFF,0xFF }} }

};
const ReadDtcMode readDtcmode11[]= {
    { 0x01,0x65,Rd_D1030,0x03,0x04,{0x3,0x19,0x02,0xAF}},
    { 0x01,0x66,Rd_D903,0x03,0x04,{0x3,0x19,0x02,0xAF}},
    { 0x01,0x67,Rd_D978,0x03,0x04,{0x3,0x19,0x02,0x2B}},
    { 0x01,0x68,Rd_D971,0x03,0x04,{0x3,0x19,0x02,0xAF}},
    { 0x01,0x69,Rd_D988,0x03,0x04,{0x3,0x19,0x02,0xAF}}
};
/********************************************************  mode11****************/
//ABS
/********************************************************  mode12****************/
const ReadDtcTypeFilte Rd_D849[1]= {
    { {0x3,0x22,0xF1,0x00},8,{{0x07,0x00,0x04,0xFF,0x7F },{0x02,0x00,0x05,0xFF,0x80 },{0x07,0x01,0x04,0xFF,0x7F },{0x04,0x01,0x05,0xFF,0x80 },{0x07,0x02,0x04,0xFF,0x7F },{0x08,0x02,0x05,0xFF,0x80 },{0x0E,0x03,0x04,0xFF,0x7F },{0x00,0x03,0x05,0xFF,0x80 }} }

};
const ReadDtcMode readDtcmode12[]= {
    { 0x01,0x6A,Rd_D849,0x03,0x04,{0x3,0x19,0x02,0x0C}}
};
/********************************************************  mode12****************/

//ABS
/********************************************************  mode13****************/
const ReadDtcTypeFilte Rd_D266[3]= {
    { {0x2,0x21,0x83},4,{{0x00,0x00,0x07,0xFF,0x3F },{0x01,0x00,0x08,0xff,0x42 },{0x40,0x01,0x07,0xFF,0xFF },{0x07,0x02,0x07,0xFF,0xFF }} },
    { {0x3,0x22,0x11,0x00},1,{{0x80,0x00,0x03,0x80,0x3F }} },
    { {0x3,0x22,0x12,0x00},1,{{0x00,0x00,0x05,0x04,0x3F }} }

};
const ReadDtcTypeFilte Rd_D450[2]= {
    { {0x2,0x21,0x83},1,{{0x00,0x00,0x07,0xF0,0x7F }} },
    { {0x2,0x21,0x00},1,{{0x40,0x00,0x03,0x40,0x80 }} }

};
const ReadDtcTypeFilte Rd_D451[1]= {
    { {0x2,0x21,0x83},2,{{0x10,0x00,0x07,0xFF,0xFF },{0x11,0x01,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D452[1]= {
    { {0x2,0x21,0x83},2,{{0x20,0x00,0x07,0xFF,0xFF },{0x21,0x01,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D603[1]= {
    { {0x2,0x21,0x83},8,{{0x05,0x00,0x07,0xFF,0xFF },{0x04,0x01,0x07,0xFF,0xFF },{0x03,0x02,0x07,0xFF,0xFF },{0x32,0x03,0x07,0xFF,0xFF },{0x30,0x04,0x07,0xFF,0xFF },{0x00,0x05,0x07,0xFF,0xFF },{0x42,0x06,0x07,0xFF,0xFF },{0x31,0x07,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D622[1]= {
    { {0x2,0x21,0x83},1,{{0x02,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D661[1]= {
    { {0x2,0x21,0x80},1,{{0x04,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D662[2]= {
    { {0x2,0x21,0x80},1,{{0x12,0x00,0x07,0xFF,0xFF }} },
    { {0x2,0x21,0xFE},1,{{0x12,0x01,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D681[1]= {
    { {0x2,0x21,0x83},9,{{0x34,0x00,0x07,0xFF,0xFF },{0x72,0x01,0x07,0xFF,0xFF },{0x52,0x02,0x07,0xFF,0xFF },{0x33,0x03,0x07,0xFF,0xFF },{0x44,0x04,0x07,0xFF,0xFF },{0x06,0x05,0x07,0xFF,0xFF },{0x08,0x06,0x07,0xFF,0xFF },{0x38,0x07,0x07,0xFF,0xFF },{0x62,0x08,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D692[1]= {
    { {0x2,0x21,0x80},2,{{0x08,0x00,0x07,0xFF,0xFF },{0x15,0x01,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D708[1]= {
    { {0x2,0x21,0x80},1,{{0x0A,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D739[1]= {
    { {0x2,0x21,0x80},1,{{0x0C,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D781[1]= {
    { {0x2,0x21,0x80},1,{{0x08,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D826[1]= {
    { {0x2,0x21,0x80},1,{{0x04,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D827[1]= {
    { {0x2,0x21,0x80},1,{{0x08,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D973[1]= {
    { {0x2,0x21,0x80},1,{{0x09,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcMode readDtcmode13[]= {
    { 0x03,0x6B,Rd_D266,0x03,0x04,{0x3,0x19,0x02,0xFF}},
    { 0x02,0x6C,Rd_D450,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x6D,Rd_D451,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x6E,Rd_D452,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x6F,Rd_D603,0x03,0x04,{0x3,0x19,0x02,0xFF}},
    { 0x01,0x70,Rd_D622,0x03,0x04,{0x3,0x19,0x02,0xFF}},
    { 0x01,0x71,Rd_D661,0x03,0x04,{0x3,0x19,0x02,0x29}},
    { 0x02,0x72,Rd_D662,0x03,0x04,{0x3,0x19,0x02,0x29}},
    { 0x01,0x73,Rd_D681,0x03,0x04,{0x3,0x19,0x02,0xFF}},
    { 0x01,0x74,Rd_D692,0x02,0x03,{0x3,0x19,0x02,0x2B}},
    { 0x01,0x75,Rd_D708,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x76,Rd_D739,0x03,0x04,{0x3,0x19,0x02,0x2B}},
    { 0x01,0x77,Rd_D781,0x03,0x04,{0x3,0x19,0x02,0x2B}},
    { 0x01,0x78,Rd_D826,0x03,0x04,{0x3,0x19,0x02,0x2B}},
    { 0x01,0x79,Rd_D827,0x03,0x04,{0x3,0x19,0x02,0x2B}},
    { 0x01,0x7A,Rd_D973,0x03,0x04,{0x3,0x19,0x02,0x2B}}
};
/********************************************************  mode13****************/
//ABS
/********************************************************  mode14****************/
const ReadDtcTypeFilte Rd_D203[1]= {
    { {0x1,0x1A},1,{{0x5A,0x00,0x03,0xff,0xFF }} }

};
const ReadDtcMode readDtcmode14[]= {
    { 0x01,0x7B,Rd_D203,0x02,0x02,{0x2,0x13,0x80}}
};
/********************************************************  mode14****************/

//ABS
/********************************************************  mode15****************/
const ReadDtcTypeFilte Rd_D373[1]= {
    { {0x2,0x1A,0x80},1,{{0x5A,0x00,0x00,0xFF,0xFF }} }

};
const ReadDtcMode readDtcmode15[]= {
    { 0x01,0x7C,Rd_D373,0x02,0x03,{0x1,0xA3}}
};
/********************************************************  mode15****************/

//ABS
/********************************************************  mode16****************/
const ReadDtcTypeFilte Rd_D697[1]= {
    { {0x2,0x21,0x80},1,{{0x09,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D709[1]= {
    { {0x2,0x21,0x80},1,{{0x04,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D717[1]= {
    { {0x2,0x21,0x80},1,{{0x18,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D721[1]= {
    { {0x2,0x21,0x80},1,{{0x1C,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcMode readDtcmode16[]= {
    { 0x01,0x7D,Rd_D697,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x7E,Rd_D709,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x7F,Rd_D717,0x02,0x02,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x80,Rd_D721,0x02,0x02,{0x3,0x17,0xFF,0x00}}
};
/********************************************************  mode16****************/

//BCM
/********************************************************  mode17****************/
const ReadDtcTypeFilte Rd_D42[1]= {
    { {0x2,0x21,0x83},1,{{0x42,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D307[1]= {
    { {0x2,0x21,0x83},5,{{0x52,0x00,0x07,0xFF,0xFF },{0x53,0x01,0x07,0xFF,0xFF },{0x55,0x02,0x07,0xFF,0xFF },{0x56,0x03,0x07,0xFF,0xFF },{0x57,0x04,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D308[1]= {
    { {0x2,0x21,0x83},8,{{0x47,0x00,0x07,0xFF,0xFF },{0x48,0x01,0x07,0xFF,0xFF },{0x49,0x02,0x07,0xFF,0xFF },{0x4A,0x03,0x07,0xFF,0xFF },{0x4D,0x04,0x07,0xFF,0xFF },{0x4E,0x05,0x07,0xFF,0xFF },{0x4F,0x06,0x07,0xFF,0xFF },{0x40,0x07,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D322[1]= {
    { {0x2,0x21,0x83},1,{{0x61,0x00,0x00,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D333[1]= {
    { {0x2,0x21,0x83},1,{{0x30,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D360[1]= {
    { {0x2,0x21,0x83},4,{{0x41,0x00,0x07,0xFF,0xFF },{0x43,0x01,0x07,0xFF,0xFF },{0x44,0x02,0x07,0xFF,0xFF },{0x4C,0x03,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D361[1]= {
    { {0x2,0x21,0x83},1,{{0x45,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D362[1]= {
    { {0x2,0x21,0x83},1,{{0x46,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D363[1]= {
    { {0x2,0x21,0x83},1,{{0x34,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D365[1]= {
    { {0x2,0x21,0x83},2,{{0x32,0x00,0x07,0xFF,0xFF },{0x35,0x01,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D366[1]= {
    { {0x2,0x21,0x83},1,{{0x32,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D367[1]= {
    { {0x2,0x21,0x83},2,{{0x33,0x00,0x07,0xFF,0xFF },{0x36,0x01,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D368[1]= {
    { {0x2,0x21,0x83},5,{{0x38,0x00,0x02,0xFF,0x33 },{0x39,0x00,0x03,0xFF,0x33 },{0x39,0x00,0x04,0xFF,0x33 },{0x31,0x00,0x05,0xFF,0x33 },{0x30,0x00,0x06,0xFF,0x33 }} }

};
const ReadDtcTypeFilte Rd_D369[1]= {
    { {0x2,0x21,0x83},2,{{0x22,0x00,0x07,0xFF,0xFF },{0x23,0x01,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D458[1]= {
    { {0x2,0x21,0x83},1,{{0x01,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D459[1]= {
    { {0x2,0x21,0x83},3,{{0xFA,0x00,0x07,0xFF,0xFF },{0xFB,0x01,0x07,0xFF,0xFF },{0xFC,0x02,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D460[1]= {
    { {0x2,0x21,0x83},1,{{0x12,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D461[1]= {
    { {0x2,0x21,0x83},1,{{0x02,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D467[1]= {
    { {0x2,0x21,0x83},1,{{0x21,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D654[1]= {
    { {0x2,0x21,0x80},1,{{0x05,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D675[1]= {
    { {0x2,0x21,0x83},4,{{0x60,0x00,0x07,0xFF,0xFF },{0x61,0x01,0x07,0xFF,0xFF },{0x62,0x02,0x07,0xFF,0xFF },{0x63,0x03,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D688[1]= {
    { {0x2,0x21,0x83},1,{{0x4B,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D730[1]= {
    { {0x2,0x21,0x80},5,{{0x16,0x00,0x07,0xFF,0xFF },{0x20,0x01,0x07,0xFF,0xFF },{0x24,0x02,0x07,0xFF,0xFF },{0x28,0x03,0x07,0xFF,0xFF },{0x2C,0x04,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D1045[1]= {
    { {0x2,0x21,0x80},1,{{0x09,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D958[1]= {
    { {0x2,0x21,0x80},2,{{0x09,0x00,0x07,0xFF,0xFF },{0x0A,0x01,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D906[1]= {
    { {0x2,0x21,0x80},2,{{0x04,0x00,0x07,0xFF,0xFF },{0x09,0x01,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D918[1]= {
    { {0x2,0x21,0x80},2,{{0x05,0x00,0x07,0xFF,0xFF },{0x0A,0x01,0x07,0xFF,0xFF }} }

};

const ReadDtcMode readDtcmode17[]= {
    { 0x01,0x81,Rd_D42,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x82,Rd_D307,0x03,0x04,{0x3,0x19,0x02,0xFF}},
    { 0x01,0x83,Rd_D308,0x03,0x04,{0x3,0x19,0x02,0xff}},
    { 0x01,0x84,Rd_D322,0x03,0x04,{0x3,0x19,0x02,0x3B}},
    { 0x01,0x85,Rd_D333,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x86,Rd_D360,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x87,Rd_D361,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x88,Rd_D362,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x89,Rd_D363,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x8A,Rd_D365,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x8B,Rd_D366,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x8C,Rd_D367,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x8D,Rd_D368,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x8E,Rd_D369,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x8F,Rd_D458,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x90,Rd_D459,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x91,Rd_D460,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x92,Rd_D461,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x93,Rd_D467,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x94,Rd_D654,0x03,0x04,{0x3,0x19,0x02,0x29}},
    { 0x01,0x95,Rd_D675,0x03,0x04,{0x3,0x19,0x02,0x0F}},
    { 0x01,0x96,Rd_D688,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0x97,Rd_D730,0x03,0x04,{0x3,0x19,0x02,0x2B}},
    { 0x01,0x98,Rd_D1045,0x03,0x04,{0x3,0x19,0x02,0x2B}},
    { 0x01,0x99,Rd_D958,0x03,0x04,{0x3,0x19,0x02,0x2B}},
    { 0x01,0x9A,Rd_D906,0x03,0x04,{0x3,0x19,0x02,0x2B}},
    { 0x01,0x9B,Rd_D918,0x03,0x04,{0x3,0x19,0x02,0x2B}},
};
/********************************************************  mode17****************/

//BCM
/********************************************************  mode18****************/
const ReadDtcTypeFilte Rd_D851[1]= {
    { {0x3,0x22,0xF1,0x00},6,{{0xE6,0x00,0x04,0xFF,0x7F },{0x01,0x00,0x05,0xFF,0x80 },{0xE6,0x01,0x04,0xFF,0x7F },{0x07,0x01,0x05,0xFF,0x80 },{0xE6,0x02,0x04,0xFF,0x7F },{0x08,0x02,0x05,0xFF,0x80 }} }

};
const ReadDtcMode readDtcmode18[]= {
    { 0x01,0x9D,Rd_D851,0x03,0x04,{0x3,0x19,0x02,0x0C}}
};
/********************************************************  mode18****************/
//BCM
/********************************************************  mode19****************/
const ReadDtcTypeFilte Rd_D782[1]= {
    { {0x3,0x22,0xF1,0xA0},9,{{0x70,0x00,0x03,0xFF,0xFF },{0x78,0x01,0x03,0xFF,0xFF },{0x71,0x02,0x03,0xFF,0xFF },{0x72,0x03,0x03,0xFF,0xFF },{0x73,0x04,0x03,0xFF,0xFF },{0x74,0x05,0x03,0xFF,0xFF },{0x75,0x06,0x03,0xFF,0xFF },{0x76,0x07,0x03,0xFF,0xFF },{0x77,0x08,0x03,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D992[1]= {
    { {0x3,0x22,0xF1,0xA0},1,{{0x80,0x00,0x03,0xFF,0xFF }} }

};
const ReadDtcMode readDtcmode19[]= {
    { 0x01,0x9E,Rd_D782,0x03,0x04,{0x3,0x19,0x02,0xAF}},
    { 0x01,0x9F,Rd_D992,0x03,0x04,{0x3,0x19,0x02,0xAF}}
};
/********************************************************  mode19****************/
//BCM
/********************************************************  mode20****************/
const ReadDtcTypeFilte Rd_D513[1]= {
    { {0x2,0x1A,0x80},1,{{0x5A,0x00,0x00,0xFF,0xFF }} }

};
const ReadDtcMode readDtcmode20[]= {
    { 0x01,0xA0,Rd_D513,0x02,0x03,{0x1,0xA3}}
};
/********************************************************  mode20****************/
//BCM
/********************************************************  mode21****************/
const ReadDtcTypeFilte Rd_D247[1]= {
    { {0x2,0x21,0x80},1,{{0x08,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D309[1]= {
    { {0x2,0x21,0x80},1,{{0x09,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D694[1]= {
    { {0x2,0x21,0x80},1,{{0x1C,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D700[1]= {
    { {0x2,0x21,0x80},1,{{0x0C,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D707[1]= {
    { {0x2,0x21,0x80},1,{{0x14,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D714[1]= {
    { {0x2,0x21,0x80},8,{{0x0E,0x00,0x07,0xFF,0x7F },{0x05,0x00,0x16,0xFF,0x80 },{0x0E,0x01,0x07,0xFF,0x7F },{0x04,0x01,0x16,0xFF,0x80 },{0x0E,0x02,0x07,0xFF,0x7F },{0x06,0x02,0x16,0xFF,0x80 },{0x0E,0x03,0x07,0xFF,0x7F },{0x07,0x03,0x16,0xFF,0x80 }} }

};
const ReadDtcTypeFilte Rd_D724[1]= {
    { {0x2,0x21,0x80},12,{{0x0F,0x00,0x07,0xFF,0x7F },{0x05,0x00,0x16,0xFF,0x80 },{0x0F,0x01,0x07,0xFF,0x7F },{0x02,0x01,0x16,0xFF,0x80 },{0x0F,0x02,0x07,0xFF,0x7F },{0x04,0x02,0x16,0xFF,0x80 },{0x0F,0x03,0x07,0xFF,0x7F },{0x06,0x03,0x16,0xFF,0x80 },{0x0F,0x04,0x07,0xFF,0x7F },{0x07,0x04,0x16,0xFF,0x80 },{0x0F,0x05,0x07,0xFF,0x7F },{0x00,0x05,0x16,0xFF,0x80 }} }

};
const ReadDtcMode readDtcmode21[]= {
    { 0x01,0xA1,Rd_D247,0x02,0x03,{0x1,0xA3}},
    { 0x01,0xA2,Rd_D309,0x02,0x03,{0x1,0xA3}},
    { 0x01,0xA3,Rd_D694,0x02,0x03,{0x1,0xA3}},
    { 0x01,0xA4,Rd_D700,0x02,0x03,{0x1,0xA3}},
    { 0x01,0xA5,Rd_D707,0x02,0x03,{0x1,0xA3}},
//   { 0x01,0xA6,Rd_D714,0x02,0x03,{0x1,0xA3},{0x3,0x14,0xFF,0x00}},
    { 0x01,0xA7,Rd_D724,0x02,0x03,{0x1,0xA3}}
};

//SRS
/********************************************************  mode22****************/
const ReadDtcTypeFilte Rd_D852[1]= {
    { {0x3,0x22,0xF1,0x00},16,{{0x01,0x00,0x04,0xFF,0x7F },{0x01,0x00,0x05,0xFF,0x80 },{0x02,0x01,0x04,0xFF,0x7F },{0x28,0x01,0x05,0xFF,0x80 },{0x40,0x02,0x04,0xFF,0x7F },{0x03,0x02,0x05,0xFF,0x80 },{0x40,0x03,0x04,0xFF,0x7F },{0x05,0x03,0x05,0xFF,0x80 },{0x40,0x04,0x04,0xFF,0x7F },{0x09,0x04,0x05,0xFF,0x80 },{0x0A,0x05,0x05,0xFF,0x7F },{0x40,0x05,0x04,0xFF,0x80 },{0x40,0x06,0x04,0xFF,0x7F },{0x10,0x06,0x05,0xFF,0x80 },{0x0B,0x07,0x05,0xFF,0x7F },{0x40,0x07,0x04,0xFF,0x80 }} }

};
const ReadDtcMode readDtcmode22[]= {
    { 0x01,0xA8,Rd_D852,0x03,0x04,{0x3,0x19,0x02,0x0C}}
};
/********************************************************  mode22****************/

//SRS
/********************************************************  mode23****************/
const ReadDtcTypeFilte Rd_D777[1]= {
    { {0x3,0x22,0xF1,0xA0},1,{{0x20,0x00,0x03,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D919[1]= {
    { {0x3,0x22,0xF1,0xA0},1,{{0xA0,0x00,0x03,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D900[1]= {
    { {0x3,0x22,0xF1,0xA0},1,{{0x30,0x00,0x03,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D984[1]= {
    { {0x3,0x22,0xF1,0xA0},1,{{0x40,0x00,0x03,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D1023[1]= {
    { {0x3,0x22,0xF1,0xA0},1,{{0x21,0x00,0x03,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D1029[1]= {
    { {0x3,0x22,0xF1,0xA0},1,{{0x31,0x00,0x03,0xFF,0xFF }} }

};
const ReadDtcMode readDtcmode23[]= {
    { 0x01,0xA9,Rd_D777,0x03,0x04,{0x3,0x19,0x02,0x09}},
    { 0x01,0xAA,Rd_D919,0x03,0x04,{0x3,0x19,0x02,0x09}},
    { 0x01,0xAB,Rd_D900,0x03,0x04,{0x3,0x19,0x02,0xAF}},
    { 0x01,0xAC,Rd_D984,0x03,0x04,{0x3,0x19,0x02,0xAF}},
    { 0x01,0xAD,Rd_D1023,0x03,0x04,{0x3,0x19,0x02,0xAF}},
    { 0x01,0xAE,Rd_D1029,0x03,0x04,{0x3,0x19,0x02,0xAF}}
};
/********************************************************  mode23****************/


//SRS
/********************************************************  mode24****************/
const ReadDtcTypeFilte Rd_D160[1]= {
    { {0x2,0x21,0x83},9,{{0x00,0x00,0x07,0xFF,0xFF },{0x01,0x01,0x07,0xFF,0xFF },{0x02,0x02,0x07,0xFF,0xFF },{0x03,0x03,0x07,0xFF,0xFF },{0x81,0x04,0x07,0xFF,0xFF },{0x83,0x05,0x07,0xFF,0xFF },{0x04,0x06,0x07,0xFF,0xFF },{0x05,0x07,0x07,0xFF,0xFF },{0x09,0x08,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D657[1]= {
    { {0x2,0x21,0x80},1,{{0x04,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D679[1]= {
    { {0x2,0x21,0x83},2,{{0x06,0x00,0x07,0xFF,0xFF },{0x10,0x01,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D723[1]= {
    { {0x2,0x21,0x83},3,{{0x07,0x00,0x07,0xFF,0xFF },{0x08,0x01,0x07,0xFF,0xFF },{0x0A,0x02,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D821[1]= {
    { {0x2,0x21,0x80},1,{{0x04,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcMode readDtcmode24[]= {
    { 0x01,0xAF,Rd_D160,0x03,0x04,{0x3,0x19,0x02,0x01}},
    { 0x01,0xB0,Rd_D657,0x03,0x04,{0x3,0x19,0x02,0x29}},
    { 0x01,0xB1,Rd_D679,0x03,0x04,{0x3,0x19,0x02,0x01}},
    { 0x01,0xB2,Rd_D723,0x03,0x04,{0x3,0x19,0x02,0x01}},
    { 0x01,0xB3,Rd_D821,0x03,0x04,{0x3,0x19,0x02,0x2B}}
};
/********************************************************  mode24****************/


//SRS
/********************************************************  mode25****************/
const ReadDtcTypeFilte Rd_D332[1]= {
    { {0x2,0x21,0x83},2,{{0x07,0x00,0x07,0xFF,0xFF },{0x08,0x01,0x07,0xFF,0xFF }} }

};
const ReadDtcMode readDtcmode25[]= {
    { 0x01,0xB4,Rd_D332,0x03,0x04,{0x3,0x19,0x02,0x01}}
};
/********************************************************  mode25****************/


//SRS
/********************************************************  mode26****************/
const ReadDtcTypeFilte Rd_D719[1]= {
    { {0x2,0x21,0x80},20,{{0x04,0x00,0x07,0xFF,0x10 },{0x01,0x00,0x11,0xFF,0x20 },{0x41,0x00,0x08,0xFF,0x40 },{0x4D,0x00,0x09,0xFF,0x80 },{0x52,0x00,0x0A,0xFF,0x0F },{0x04,0x01,0x07,0xFF,0x10 },{0x41,0x01,0x08,0xFF,0x20 },{0x4D,0x01,0x09,0xFF,0x40 },{0x52,0x01,0x0A,0xFF,0x80 },{0x02,0x01,0x11,0xFF,0x0F },{0x04,0x02,0x07,0xFF,0x10 },{0x41,0x02,0x08,0xFF,0x20 },{0x4D,0x02,0x09,0xFF,0x40 },{0x52,0x02,0x0A,0xFF,0x80 },{0x06,0x02,0x11,0xFF,0x0F },{0x04,0x03,0x07,0xFF,0x10 },{0x41,0x03,0x08,0xFF,0x20 },{0x4D,0x03,0x09,0xFF,0x40 },{0x52,0x03,0x0A,0xFF,0x80 },{0x04,0x03,0x11,0xFF,0x0F }} }

};
const ReadDtcTypeFilte Rd_D686[1]= {
    { {0x2,0x21,0x80},1,{{0x38,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D698[1]= {
    { {0x2,0x21,0x80},1,{{0x30,0x00,0x07,0xFF,0xFF }} }

};
const ReadDtcTypeFilte Rd_D543[1]= {
    { {0x2,0x21,0x80},1,{{0x61,0x00,0x00,0xFF,0xFF }} }

};
const ReadDtcMode readDtcmode26[]= {
    { 0x01,0xB6,Rd_D719,0x02,0x02,{0x3,0x17,0xFF,0x00}},
    { 0x01,0xB7,Rd_D686,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0xB8,Rd_D698,0x02,0x03,{0x3,0x17,0xFF,0x00}},
    { 0x01,0xB9,Rd_D543,0x02,0x03,{0x3,0x17,0xFF,0x00}}
};

const ReadDtcTypeFilte Rd_D509[1]= {
    { {0x2,0x1a,0x80},1,{{0x5a,0x00,0x00,0xFF,0xFF }} }

};
const ReadDtcMode readDtcmode27[]= {
    { 0x01,0xBA,Rd_D509,0x02,0x02,{0x2,0xa2,0x00}}
};
/********************************************************  mode26****************/




//公共函数
bool SetFrameTimeOut_NISSAN(INIT_MODE_NISSAN index)
{
    uint8_t  ord  = 0;
    uint8_t initdata[128] = {0};
    uint8_t number = 0,i=0;
    uint32_t canid = 0 ;
    m_CAN_ANS_T_NISSAN = 0;
    m_CAN_ANS_R_NISSAN = 0;

    ord = InitIoCmd_NISSAN[index].Msg_Ord;
    number = InitIoCmd_NISSAN[index].CMD_DATA[0];
    memcpy(initdata,InitIoCmd_NISSAN[index].CMD_DATA+1,number);
    switch(ord)
    {
    case 0x13:
        while(i<number)
        {
            switch(initdata[i])
            {
            case 0x01:
                i+=4;
                break;
            case 0x02:
                i+=2;
                break;
            case 0x03:
                i+=2;
                break;
            case 0x04:
                i+=5;
                break;
            case 0x05:
                g_defaultMsgAttr.m_AnswerByteTimeOut = initdata[i+1];
                g_defaultMsgAttr.m_AnswerFrameTimeOut = initdata[i+2];
                g_defaultMsgAttr.m_RequestFrameTimeOut = initdata[i+3];
                g_defaultMsgAttr.m_RequestByteTimeOut = initdata[i+4];
                g_defaultMsgAttr.m_AutoKeepTimeOut= initdata[i+5];
                g_defaultMsgAttr.m_AutoKeepTimeOut = initdata[i+6]*256+initdata[i+7];
                i+=8;

                break;
            case 0x06:
                g_defaultMsgAttr.m_KeepFlag = initdata[i+1];
                i+=2;
                break;
            case 0x07:
                i+=initdata[i+1]*2+2;
                break;
            case 0x08:
                i+=2;
                break;
            case 0x09:
                g_defaultMsgAttr.m_ISOAnswerNum = initdata[i+1];
                i+=2;
                break;
            case 0x0a:
                i+=4;
                break;
            case 0x0b:
                i+=2;
                break;
            case 0x0c:
                i+=4;
                break;
            case 0x0d:
                i+=2;
                break;
            case 0x0e:
                i+=3;
                break;
            case 0x0f:
                i+=2;
                break;
            default:
                //??
                return FALSE;

            }
        }
        break;
    case 0x14:
        while(i<number)
        {
            switch(initdata[i])
            {
            case 0x01:
                i+=4;
                break;
            case 0x02:
                i+=2;
                break;
            case 0x03:
                i+=2;
                break;
            case 0x04:
                i+=5;
                break;
            case 0x05:
                g_defaultMsgAttr.m_AnswerByteTimeOut = initdata[i+1];
                g_defaultMsgAttr.m_AnswerFrameTimeOut = initdata[i+2];
                g_defaultMsgAttr.m_RequestFrameTimeOut = initdata[i+3];
                g_defaultMsgAttr.m_RequestByteTimeOut = initdata[i+4];
                g_defaultMsgAttr.m_AutoKeepTimeOut= initdata[i+5];
                g_defaultMsgAttr.m_AutoKeepTimeOut = initdata[i+6]*256+initdata[i+7];
                i+=8;

                break;
            case 0x06:
                g_defaultMsgAttr.m_KeepFlag = initdata[i+1];
                i+=2;
                break;
            case 0x07:
                i+=initdata[i+1]*2+2;
                break;
            case 0x08:
                i+=2;
                break;
            case 0x09:
                g_defaultMsgAttr.m_ISOAnswerNum = initdata[i+1];
                i+=2;
                break;
            case 0x0a:
                i+=4;
                break;
            case 0x0b:
                i+=2;
                break;
            case 0x0c:
                i+=5;
                break;
            default:
                //??
                return FALSE;
            }
        }
        break;

    case 0x10:
        g_defaultMsgAttr.m_AnswerByteTimeOut = 02;
        g_defaultMsgAttr.m_AnswerFrameTimeOut = 0xd;
        g_defaultMsgAttr.m_RequestFrameTimeOut = 15;
        g_defaultMsgAttr.m_RequestByteTimeOut = 02;
        g_defaultMsgAttr.m_AutoKeepTimeOut= 15;
        g_defaultMsgAttr.m_KeepFlag =00;
        while(i<number)
        {
            switch(initdata[i])
            {
            case 0x01:
                i+=4;
                break;
            case 0x02:
                m_CAN_LISTEN_TYPE_NISSAN =initdata[i+1];
                i+=2;
                break;
            case 0x03:
                i+=2;
                break;
            case 0x04:
                canid=0;
                canid += initdata[i+1]<<24;
                canid += initdata[i+2]<<16;
                canid += initdata[i+3]<<8;
                canid += initdata[i+4];
                setcanbusflowid(canid);
                i+=5;
                break;
            case 0x05:
                canid=0;
                canid += initdata[i+1]<<24;
                canid += initdata[i+2]<<16;
                canid += initdata[i+3]<<8;
                canid += initdata[i+4];
                setcanbusreadid(canid);
                i+=5;
                break;
            case 0x06:
                i+=5;
                break;
            case 0x07:
                i+=5;
                break;
            case 0x08:
                i+=5;
                break;
            case 0x09:
                i+=3;
                break;
            case 0x0a:
                i+=3;
                break;
            case 0x0b:
                i+=3;
                break;
            case 0x0c:
                i+=2;
                break;
            case 0x0d:
//				m_CAN_ANS_T_NISSAN = initdata[i+1];
                i+=2;
                break;
            case 0x0e:
//				m_CAN_ANS_R_NISSAN = initdata[i+1];
                i+=0x11;
                break;
            case 0x0F:
                i+=2;
                break;
            default:
                //错误
                return FALSE;
            }
        }
        break;
    case 0x11:
        g_defaultMsgAttr.m_AnswerByteTimeOut = 02;
        g_defaultMsgAttr.m_AnswerFrameTimeOut = 0xd;
        g_defaultMsgAttr.m_RequestFrameTimeOut = 15;
        g_defaultMsgAttr.m_RequestByteTimeOut = 02;
        g_defaultMsgAttr.m_AutoKeepTimeOut= 15;
        g_defaultMsgAttr.m_KeepFlag =00;

        break;
    case 0x12:

        g_defaultMsgAttr.m_AnswerByteTimeOut = 02;
        g_defaultMsgAttr.m_AnswerFrameTimeOut = 50;
        g_defaultMsgAttr.m_RequestFrameTimeOut = 15;
        g_defaultMsgAttr.m_RequestByteTimeOut = 02;
        g_defaultMsgAttr.m_AutoKeepTimeOut= 15;
        g_defaultMsgAttr.m_KeepFlag =00;

        break;
    case 0x15:
    case 0x16:
        g_defaultMsgAttr.m_AnswerByteTimeOut = 02;
        g_defaultMsgAttr.m_AnswerFrameTimeOut = 50;
        g_defaultMsgAttr.m_RequestFrameTimeOut = 15;
        g_defaultMsgAttr.m_RequestByteTimeOut = 02;
        g_defaultMsgAttr.m_AutoKeepTimeOut= 15;
        g_defaultMsgAttr.m_KeepFlag =00;
        break;
    case 0x17:
    case 0x18:
    case 0x19:
    case 0x1a:
    case 0x1b:
    case 0x1c:
    case 0x1d:
    case 0x1e:
    case 0x1f:
        break;

    default:
        return FALSE;
    }

    return TRUE;
}


//设置ECU初始化ORD
void pro_set_init_ecu_ord_NISSAN(INIT_MODE_NISSAN mode)
{
//	switch(mode)
//	{
//		case OBDII_MODE_05:
//		case OBDII_MODE_06:
//		case OBDII_MODE_07:
//				g_defaultMsgAttr.m_ORD = OBDII_MSG_Init_Ecu_KWP_PackType;
//		  break;
//		default:
//			break;
//	}
}


//设置通信过程ORD
void pro_msg_all_NISSAN(INIT_MODE_NISSAN mode)
{
    //cmd_set_two_id_NISSAN(0x00);
    switch(mode)
    {
        //CAN
    case NISSAN_MODE_00: //CAN
    case NISSAN_MODE_01: //CAN
    case NISSAN_MODE_02: //CAN
    case NISSAN_MODE_06://CAN
    case NISSAN_MODE_07://CAN
    case NISSAN_MODE_08: //CAN
    case NISSAN_MODE_11: //CAN
    case NISSAN_MODE_12: //CAN
    case NISSAN_MODE_13: //CAN
    case NISSAN_MODE_14: //CAN
    case NISSAN_MODE_17: //CAN
    case NISSAN_MODE_18: //CAN
    case NISSAN_MODE_19: //CAN
    case NISSAN_MODE_22: //CAN
    case NISSAN_MODE_23: //CAN
    case NISSAN_MODE_24: //CAN
    case NISSAN_MODE_25: //CAN
        g_defaultMsgAttr.m_CS_MODE = 0;
        g_defaultMsgAttr.m_ORD     = 0x30;
        g_defaultMsgAttr.m_PCK_TYPE= 0x22;
        g_defaultMsgAttr.m_RWAYS   = 0;
        g_defaultMsgAttr.m_SRC     = 0;
        g_defaultMsgAttr.m_TGT     = 0;
        g_defaultMsgAttr.m_WAYS    = 0;
        break;

        //CAN
        //这个比较特殊，目前因为只有这一个系统是带第二id的，暂固写在这里
        //NISSAN 里面的 main body 的第二id是40
        //a5 a5 00 0d 30 00 00 07 50 40 01 3e 00 00 00 00 00 ??

    case NISSAN_MODE_03:
        //cmd_set_two_id_NISSAN(0x40);
        g_defaultMsgAttr.m_CS_MODE = 0;
        g_defaultMsgAttr.m_ORD     = 0x33;
        g_defaultMsgAttr.m_PCK_TYPE= 0x30;
        g_defaultMsgAttr.m_RWAYS   = 0;
        g_defaultMsgAttr.m_SRC     = 0xfc;
        g_defaultMsgAttr.m_TGT     = 0x10;
        g_defaultMsgAttr.m_WAYS    = 0;
        break;

        //KWP

    case NISSAN_MODE_04:
        g_defaultMsgAttr.m_CS_MODE = 0;
        g_defaultMsgAttr.m_ORD     = 0x33;
        g_defaultMsgAttr.m_PCK_TYPE= 0x30;
        g_defaultMsgAttr.m_RWAYS   = 0;
        g_defaultMsgAttr.m_SRC     = 0xFC;
        g_defaultMsgAttr.m_TGT     = 0x12;
        g_defaultMsgAttr.m_WAYS    = 0;
        break;

    case NISSAN_MODE_05:
        g_defaultMsgAttr.m_CS_MODE = 0;
        g_defaultMsgAttr.m_ORD     = 0x33;
        g_defaultMsgAttr.m_PCK_TYPE= 0x30;
        g_defaultMsgAttr.m_RWAYS   = 0;
        g_defaultMsgAttr.m_SRC     = 0xF1;
        g_defaultMsgAttr.m_TGT     = 0x7a;
        g_defaultMsgAttr.m_WAYS    = 0;
        break;

    case NISSAN_MODE_09:
        g_defaultMsgAttr.m_CS_MODE = 0;
        g_defaultMsgAttr.m_ORD     = 0x33;
        g_defaultMsgAttr.m_PCK_TYPE= 0x30;
        g_defaultMsgAttr.m_RWAYS   = 0;
        g_defaultMsgAttr.m_SRC     = 0xFC;
        g_defaultMsgAttr.m_TGT     = 0x18;
        g_defaultMsgAttr.m_WAYS    = 0;
        break;


    case NISSAN_MODE_10:
        g_defaultMsgAttr.m_CS_MODE = 0;
        g_defaultMsgAttr.m_ORD     = 0x33;
        g_defaultMsgAttr.m_PCK_TYPE= 0x30;
        g_defaultMsgAttr.m_RWAYS   = 0;
        g_defaultMsgAttr.m_SRC     = 0xF1;
        g_defaultMsgAttr.m_TGT     = 0x6E;
        g_defaultMsgAttr.m_WAYS    = 0;
        break;


    case NISSAN_MODE_15:
        g_defaultMsgAttr.m_CS_MODE = 0;
        g_defaultMsgAttr.m_ORD     = 0x33;
        g_defaultMsgAttr.m_PCK_TYPE= 0x30;
        g_defaultMsgAttr.m_RWAYS   = 0;
        g_defaultMsgAttr.m_SRC     = 0xFC;
        g_defaultMsgAttr.m_TGT     = 0x28;
        g_defaultMsgAttr.m_WAYS    = 0;
        break;
    case NISSAN_MODE_16:
        g_defaultMsgAttr.m_CS_MODE = 0;
        g_defaultMsgAttr.m_ORD     = 0x33;
        g_defaultMsgAttr.m_PCK_TYPE= 0x30;
        g_defaultMsgAttr.m_RWAYS   = 0;
        g_defaultMsgAttr.m_SRC     = 0xF1;
        g_defaultMsgAttr.m_TGT     = 0x01;
        g_defaultMsgAttr.m_WAYS    = 0;
        break;
    case NISSAN_MODE_20:
        g_defaultMsgAttr.m_CS_MODE = 0;
        g_defaultMsgAttr.m_ORD     = 0x33;
        g_defaultMsgAttr.m_PCK_TYPE= 0x30;
        g_defaultMsgAttr.m_RWAYS   = 0;
        g_defaultMsgAttr.m_SRC     = 0xFC;
        g_defaultMsgAttr.m_TGT     = 0x40;
        g_defaultMsgAttr.m_WAYS    = 0;
        break;
    case NISSAN_MODE_21:
        g_defaultMsgAttr.m_CS_MODE = 0;
        g_defaultMsgAttr.m_ORD     = 0x33;
        g_defaultMsgAttr.m_PCK_TYPE= 0x30;
        g_defaultMsgAttr.m_RWAYS   = 0;
        g_defaultMsgAttr.m_SRC     = 0xF1;
        g_defaultMsgAttr.m_TGT     = 0x26;
        g_defaultMsgAttr.m_WAYS    = 0;
        break;
    case NISSAN_MODE_26:
        g_defaultMsgAttr.m_CS_MODE = 0;
        g_defaultMsgAttr.m_ORD     = 0x33;
        g_defaultMsgAttr.m_PCK_TYPE= 0x30;
        g_defaultMsgAttr.m_RWAYS   = 0;
        g_defaultMsgAttr.m_SRC     = 0xF1;
        g_defaultMsgAttr.m_TGT     = 0x2c;
        g_defaultMsgAttr.m_WAYS    = 0;
        break;
 case NISSAN_MODE_27:
        g_defaultMsgAttr.m_CS_MODE = 0;
        g_defaultMsgAttr.m_ORD     = 0x33;
        g_defaultMsgAttr.m_PCK_TYPE= 0x30;
        g_defaultMsgAttr.m_RWAYS   = 0;
        g_defaultMsgAttr.m_SRC     = 0xFc;
        g_defaultMsgAttr.m_TGT     = 0x58;
        g_defaultMsgAttr.m_WAYS    = 0;
        break;

    default:
        break;
    }
}

//直接用OBD的
//void ResetComPort()



//初始化IO
bool Init_IO_NISSAN(INIT_MODE_NISSAN index)
{
    uint16_t number = 0;
    INIT_MODE_NISSAN mode = 0;
    uint8_t sendbuf[128] = {0};
    uint8_t recvbuf[32] = {0};
    if(!SetFrameTimeOut_NISSAN(index))
    {
        return false;
    }
    memset(recvbuf,0,sizeof(recvbuf));
    number = InitIoCmd_NISSAN[index].CMD_DATA[0];
    memcpy(sendbuf, InitIoCmd_NISSAN[index].CMD_DATA+1, number);
    mode = InitIoCmd_NISSAN[index].Init_Mode;
    g_defaultMsgAttr.m_PCK_TYPE = 0x00;
    number = pro_packsenddata(sendbuf, number, InitIoCmd_NISSAN[index].Msg_Ord);
    if(number == 0)
    {
        return 0;
    }
    ResetComPort();
    vTaskDelay(20);

    USB_BULK_Queue_Write(&USB_RX_QueueData,sendbuf,number);
    printfUartObdiideBug("index is : %d\r\n",(int)index);
    OBDII_ReadBuf(recvbuf, &number,1500);
    //number = pro_SendRecv((uint8_t *)ObdiiInitIoCmd[index].CMD_DATA,(uint8_t *)sendbuf);
    if (number < 1)
    {
        printfUartObdiideBug("InitIO false\r\n");
        return false;
    }
    vTaskDelay(1000);
    m_canbussendid = InitIoCmd_NISSAN[index].CMD_DATA[12] * 0x100 + InitIoCmd_NISSAN[index].CMD_DATA[13];
    //m_canbussendid = InitIoCmd_NISSAN[index].CMD_DATA[]
    //pro_set_can_id_NISSAN(index);
    printfUartObdiideBug("InitIO true\r\n");
    return true;
}


void pro_set_can_id_NISSAN(INIT_MODE_NISSAN mode)
{
    switch(mode)
    {
    case NISSAN_MODE_01:
        m_canbussendid = 0x000007E0;
        m_canbusreadid = 0x000007E8;
        m_canbusflowid = 0x000007E0;
        break;

    case NISSAN_MODE_02:
        m_canbussendid = 0x00000700;
        m_canbusreadid = 0x000007E8;
        m_canbusflowid = 0x00000700;
        break;

    default:
        break;
    }
}

bool pro_much_init_NISSAN(INIT_MODE_NISSAN mode)// CAN协议进系统
{
    uint8_t sendbuf[128] = {0};
    bool bRet = false;
    MSG_ORD_NISSAN PackType =  InitIoCmd_NISSAN[mode].Msg_Ord;

    memset(sendbuf,0,sizeof(sendbuf));

    switch(PackType)
    {
        //CAN
    case MSG_Init_CAN_PackType_NISSAN:
        pro_msg_all_NISSAN(mode);
        bRet = pro_canbus_select_module_NISSAN(mode);
        break;

        //KWP
    case MSG_Init_KWP_PackType_NISSAN:
        pro_msg_all_NISSAN(mode);
        bRet = pro_kwp_select_module_NISSAN(mode);//kwp的81进系统命令
        break;

    default:
        break;
    }

    return bRet;
}
//p0001,p0002,
bool pro_kwp_select_module_NISSAN(INIT_MODE_NISSAN mode)//kwp的81进系统命令
{
    uint16_t number = 0;
    uint8_t sendbuf[128] = {0};
    uint8_t recvbuf[256] = {0};
    uint8_t ord = 0;
    uint8_t pcktype = 0;

    memcpy(sendbuf,InitIoCmd_NISSAN[mode].System_Enter,InitIoCmd_NISSAN[mode].System_Enter[0]+1);

    ord = g_defaultMsgAttr.m_ORD;//临时保存
    pcktype = g_defaultMsgAttr.m_PCK_TYPE;
    g_defaultMsgAttr.m_ORD = 0x23;//进系统 临时改成0x23
    g_defaultMsgAttr.m_PCK_TYPE = 0x02;
    number = pro_SendRecv(sendbuf, recvbuf);

    g_defaultMsgAttr.m_ORD = ord;//还原回去
    g_defaultMsgAttr.m_PCK_TYPE = pcktype;
    if(number == 0)
    {
        return false;
    }
    m_KwpWord1 = recvbuf[1];
    return true;
}

bool pro_canbus_select_module_NISSAN(INIT_MODE_NISSAN mode)
{
    // int i, j;
    uint8_t sendbuf[128] = {0};
    uint8_t recvbuf[256] = {0};
    uint8_t sendnum =0;
    uint16_t number=0;
//    uint32_t canid;

    sendnum = InitIoCmd_NISSAN[mode].System_Enter[0];
    memset(sendbuf,0,sizeof(sendbuf));
    memcpy(sendbuf, InitIoCmd_NISSAN[mode].System_Enter,sendnum+1);

    number = pro_SendRecv(sendbuf, recvbuf); //进系统 带长度

    if(number<1)
    {
        return false;
    }

    return true;
}


//读码处理函数

INIT_MODE_NISSAN pro_read_dtc_NISSAN(SYSTEM_NISSAN sys,INIT_MODE_NISSAN index,int* dtc_number,char* dtc_list,char* dtc_sys)//读码

{
    char AllDtcbuf[256] = {0};
    int i = 0;
    int SingalSysDtcCout = 0;
    char dtcsystem[4] = {0};
    sprintf(dtcsystem, "%d", sys);
		
    switch(index)
    {
    case NISSAN_MODE_00:
        SingalSysDtcCout = prossDtcCmd(index,readDtcmode0,AllDtcbuf);
        break;
    case NISSAN_MODE_01:
        SingalSysDtcCout = prossDtcCmd(index,readDtcmode1,AllDtcbuf);
        break;
    case NISSAN_MODE_02:
        SingalSysDtcCout = prossDtcCmd(index,readDtcmode2, AllDtcbuf);
        break;
    case NISSAN_MODE_03:
        SingalSysDtcCout = prossDtcCmd(index,readDtcmode3, AllDtcbuf);
        break;
    case NISSAN_MODE_04:
        SingalSysDtcCout = prossDtcCmd(index,readDtcmode4, AllDtcbuf);
        break;
    case NISSAN_MODE_05:
        SingalSysDtcCout =prossDtcCmd(index,readDtcmode5, AllDtcbuf);
        break;
    case NISSAN_MODE_06:
        SingalSysDtcCout =prossDtcCmd(index,readDtcmode6, AllDtcbuf);
        break;
    case NISSAN_MODE_07:
        SingalSysDtcCout =prossDtcCmd(index,readDtcmode7, AllDtcbuf);
        break;
    case NISSAN_MODE_08:
        SingalSysDtcCout =prossDtcCmd(index,readDtcmode8, AllDtcbuf);
        break;
    case NISSAN_MODE_09:
        SingalSysDtcCout =prossDtcCmd(index,readDtcmode9, AllDtcbuf);
        break;
    case NISSAN_MODE_10:
        SingalSysDtcCout =prossDtcCmd(index,readDtcmode10, AllDtcbuf);
        break;
    case NISSAN_MODE_11:
        SingalSysDtcCout =prossDtcCmd(index,readDtcmode11, AllDtcbuf);

        break;
    case NISSAN_MODE_12:
        SingalSysDtcCout =prossDtcCmd(index,readDtcmode12, AllDtcbuf);
        break;
    case NISSAN_MODE_13:
        SingalSysDtcCout =prossDtcCmd(index,readDtcmode13, AllDtcbuf);
        break;
    case NISSAN_MODE_14:
        SingalSysDtcCout =prossDtcCmd(index,readDtcmode14, AllDtcbuf);
        break;
    case NISSAN_MODE_15:
        SingalSysDtcCout =prossDtcCmd(index,readDtcmode15, AllDtcbuf);
        break;
    case NISSAN_MODE_16:
        SingalSysDtcCout =prossDtcCmd(index,readDtcmode16, AllDtcbuf);
        break;
    case NISSAN_MODE_17:
        SingalSysDtcCout =prossDtcCmd(index,readDtcmode17, AllDtcbuf);
        break;
    case NISSAN_MODE_18:
        SingalSysDtcCout =prossDtcCmd(index,readDtcmode18, AllDtcbuf);
        break;
    case NISSAN_MODE_19:
        SingalSysDtcCout =prossDtcCmd(index,readDtcmode19, AllDtcbuf);
        break;
    case NISSAN_MODE_20:
        SingalSysDtcCout =prossDtcCmd(index,readDtcmode20, AllDtcbuf);
        break;
    case NISSAN_MODE_21:
        SingalSysDtcCout =prossDtcCmd(index,readDtcmode21, AllDtcbuf);
        break;
    case NISSAN_MODE_22:
        SingalSysDtcCout =prossDtcCmd(index,readDtcmode22, AllDtcbuf);
        break;
    case NISSAN_MODE_23:
        SingalSysDtcCout =prossDtcCmd(index,readDtcmode23, AllDtcbuf);
        break;
    case NISSAN_MODE_24:
        SingalSysDtcCout =prossDtcCmd(index,readDtcmode24, AllDtcbuf);
        break;
    case NISSAN_MODE_25:
        SingalSysDtcCout =prossDtcCmd(index,readDtcmode25, AllDtcbuf);
        break;
    case NISSAN_MODE_26:
        SingalSysDtcCout =prossDtcCmd(index,readDtcmode26, AllDtcbuf);
        break;
		case NISSAN_MODE_27:
        SingalSysDtcCout =prossDtcCmd(index,readDtcmode27, AllDtcbuf);
        break;
    default:
        break;
    }
    if(SingalSysDtcCout != 0)
    {
        *dtc_number += SingalSysDtcCout;
        strcat(dtc_list,AllDtcbuf);
        
        for(i = 0 ; i < SingalSysDtcCout ; i++)
        {
            strcat(dtc_sys,dtcsystem);
           
            strcat(dtc_sys,",");
        }
				
    }
    printfUartObdiideBug("NISSAN enter dtcmode:%d,dtcnumber is :%d dtc_list== %s dtc_sys==%s \r\n",index,*dtc_number,dtc_list,dtc_sys);		
    return index;
}


void pro_clear_dtc_NISSAN(INIT_MODE_NISSAN index) //??
{

    uint8_t recvbuf[128] = {0}; //
		uint8_t number = 0;
    switch(index)
    {
    case NISSAN_MODE_00 :
    case NISSAN_MODE_01 :
    case NISSAN_MODE_02 :
    case NISSAN_MODE_05 :
    case NISSAN_MODE_06 :
    case NISSAN_MODE_07 :
    case NISSAN_MODE_08 :
    case NISSAN_MODE_11 :
    case NISSAN_MODE_12 :
    case NISSAN_MODE_13 :
    case NISSAN_MODE_16 :
    case NISSAN_MODE_17 :
    case NISSAN_MODE_18 :
    case NISSAN_MODE_19 :
    case NISSAN_MODE_21 :
    case NISSAN_MODE_22 :
    case NISSAN_MODE_23 :
    case NISSAN_MODE_24 :
    case NISSAN_MODE_25 :
    case NISSAN_MODE_26 :
        pro_SendRecv("\x04\x14\xff\xff\xff", recvbuf);
        pro_SendRecv("\x03\x14\xff\x00", recvbuf);

        break;
    case NISSAN_MODE_03 :
    case NISSAN_MODE_04 :
    case NISSAN_MODE_09 :
    case NISSAN_MODE_14 :
    case NISSAN_MODE_15 :
    case NISSAN_MODE_20 :
    case NISSAN_MODE_27 :
        pro_SendRecv("\x01\x14", recvbuf);
        break;
    case NISSAN_MODE_10 :
        pro_SendRecv("\x03\x14\xff\x00", recvbuf);
        pro_SendRecv("\x02\x14\x05", recvbuf);
        break;
    default:
        break;
    }
}


void pro_exit_system_NISSAN(INIT_MODE_NISSAN index) //退出系统
{
    uint8_t sendcmd[128] = {0}; //退出
    uint8_t recvbuf[128] = {0}; //
    uint8_t number = 0;

    if(InitIoCmd_NISSAN[index].System_Exit[0]>0)
    {

        memcpy(sendcmd, InitIoCmd_NISSAN[index].System_Exit,InitIoCmd_NISSAN[index].System_Exit[0]+1);

        number = pro_SendRecv(sendcmd, recvbuf); //退出系统命令不做判断

    }
}


bool Much_Init_NISSAN()
{
    uint8_t i = 0,j = 0;
    uint8_t initstart = 0,initend = 0;
//    INIT_MODE_NISSAN mode = 0;
    //int num = 0;
    //char buf[60] = {0};

    //uint8_t iSystem = 5;//一共5个系统
		bool enter = false;
	
    g_vehiclediagnosie.fault_total = 0;
    memset(g_vehiclediagnosie.fault_list,0,sizeof(g_vehiclediagnosie.fault_list));//故障码
    memset(g_vehiclediagnosie.sys_list,0,sizeof(g_vehiclediagnosie.sys_list));//系统编号 1发动机 2传动 3ABS 4车身 5安全

    printfUartObdiideBug("welcome to [%s]\r\n",__func__);
    if(m_first_NISSAN)
    {
        //第一次进入
        m_first_NISSAN = false;
        initstart = 0;//从第一个系统开始扫描时重置
        initend = 0;//从第一个系统开始扫描时重置
        for (i = NISSAN_ENGINE  ; i <= NISSAN_SRS; i++)
        {
            initstart = initend;
            initend += NISSAN_iSystem_Mode_Size[i];
            for (j = initstart; j < initend; j++)
            {
                //reset_global_data();//重置全局变量数据
                if(Init_IO_NISSAN(InitIoCmd_NISSAN[j].Init_Mode)) //初始化IO
                {
                    if(pro_much_init_NISSAN(InitIoCmd_NISSAN[j].Init_Mode)) //初始化ECU //进系统
                    {
                        printfUartObdiideBug("NISSAN enter success system:%d init:%d \r\n",i,j);
                        m_protocol_index_NISSAN[i] = InitIoCmd_NISSAN[j].Init_Mode;												//保存是第几个协议
                        m_protocol_index_NISSAN[i] = pro_read_dtc_NISSAN(i,InitIoCmd_NISSAN[j].Init_Mode,&(g_vehiclediagnosie.fault_total),g_vehiclediagnosie.fault_list,g_vehiclediagnosie.sys_list);	//读码
                      //  pro_clear_dtc_NISSAN(m_protocol_index_NISSAN[i]);															//清码
                        pro_exit_system_NISSAN(m_protocol_index_NISSAN[i]);														//退出
                        printfUartObdiideBug("tom_min leaving \r\n");
                        break;
                    }
                    else
                    {
                        printfUartObdiideBug("NISSAN enter false system:%d init:%d (%d-%d) \r\n",i,j,initstart,initend-1);
                    }
                }
            }//for (j = initstart; j < initend; j++)
        }//for (i = 0;i<iSystem;i++)
				printfUartObdiideBug("nissan nissan nissan nissan nissan nissan  come here 1\r\n");
				for(i = NISSAN_ENGINE;i <= NISSAN_SRS;i++)
				{
					printfUartObdiideBug("nissan nissan nissan nissan nissan nissan  come here 2\r\n");
						if(m_protocol_index_NISSAN[i] != -1)
								return true;
				}
    }
    else
    {
				vTaskDelay(3000);
				enter = false;
        for (i = NISSAN_ENGINE; i <= NISSAN_SRS; i++)
        {
            if(m_protocol_index_NISSAN[i] != -1)//直接使用记录的协议，如果为-1，则说明不存在此系统
            {
                if(Init_IO_NISSAN(InitIoCmd_NISSAN[m_protocol_index_NISSAN[i]].Init_Mode)) //初始化IO
                {
                    if(pro_much_init_NISSAN(InitIoCmd_NISSAN[m_protocol_index_NISSAN[i]].Init_Mode)) //初始化ECU
                    {

												pro_clear_dtc_NISSAN(m_protocol_index_NISSAN[i]);
//														vTaskDelay(100);
												enter = true;
                        pro_read_dtc_NISSAN(i,m_protocol_index_NISSAN[i],&(g_vehiclediagnosie.fault_total),g_vehiclediagnosie.fault_list,g_vehiclediagnosie.sys_list);	//读码
                        pro_exit_system_NISSAN(m_protocol_index_NISSAN[i]);
                        vTaskDelay(20);
                    }
                }
            }
        }
        printfUartObdiideBug("NISSAN data \r\n");
    }
		printfUartObdiideBug("nissan nissan nissan nissan nissan nissan  come here 3\r\n");
		if(strlen(g_vehiclediagnosie.fault_list) > 0 && g_vehiclediagnosie.fault_list[strlen(g_vehiclediagnosie.fault_list)-1] == ',')
				g_vehiclediagnosie.fault_list[strlen(g_vehiclediagnosie.fault_list)-1] = '\0';
		printfUartObdiideBug("nissan nissan nissan nissan nissan nissan  come here 4\r\n");
		if(strlen(g_vehiclediagnosie.sys_list) > 0 && g_vehiclediagnosie.sys_list[strlen(g_vehiclediagnosie.sys_list)-1] == ',')
				g_vehiclediagnosie.sys_list[strlen(g_vehiclediagnosie.sys_list)-1] = '\0';
		
		printfUartObdiideBug("NISSAN enter,g_vehiclediagnosie.fault_total is :%d dtc_list== %s dtc_sys==%s \r\n",g_vehiclediagnosie.fault_total,g_vehiclediagnosie.fault_list,g_vehiclediagnosie.sys_list);	
		printfUartObdiideBug("nissan nissan nissan nissan nissan nissan  come here 5\r\n");
		return enter;
}








void cmd_msg_all_canbus_11bit_NISSAN()
{
    uint32_t canread = 0, canflow = 0;

    canread = m_modulebuf[0];
    canflow = canread-8;

    if((g_defaultMsgAttr.m_PCK_TYPE == 0x22) || (g_defaultMsgAttr.m_PCK_TYPE == 0x20))
    {
        //m_canbussendid=getHex32(ezxml_attr(msgxml, "CANSEND"));
        m_canbusreadid=canread;
        m_canbusflowid=canflow;
    }
    //SetCanbusFilter(canread);//丰田单个系统单个ID,用不到
}

void cmd_msg_all_default_model_NISSAN()
{
    cmd_set_ecumodule_NISSAN(m_modulebuf[0]);
}

uint8_t cmd_set_ecumodule_NISSAN(uint8_t module)
{
    m_setmodule = module;
    return m_setmodule;
}


void SetCanbusFilter_NISSAN(uint32_t filterID)
{
    int i = 0;
    int number = 0;
    uint8_t buffer[128] = {0};
    number = 0;
    buffer[number++] = 0xa5;
    buffer[number++] = 0xa5;
    buffer[number++] = 0x00;
    buffer[number++] = 0x05;
    buffer[number++] = 0x70;
    buffer[number++] = (uint8_t)(filterID>>24);
    buffer[number++] = (uint8_t)(filterID>>16);
    buffer[number++] = (uint8_t)(filterID>>8);
    buffer[number++] = (uint8_t)(filterID&0xff);
    buffer[number++] = 0x00;
    for(i=2; i<number-1; i++)
    {
        buffer[number-1] += buffer[i];
    }
    buffer[number-1] = ~buffer[number-1];
    printfUartObdiideBug("sendbuf:%s\r\n",buffer);
    USB_BULK_Queue_Write(&USB_RX_QueueData,buffer,number);
    vTaskDelay(40);
}


//处理PCBU 码
void dtc_sprintf_PCBU(char *strbuf,uint8_t *buf)
{

    switch(buf[0] & 0xC0)
    {
    case 0x00: // p
        sprintf(strbuf, "P%04X", (buf[0] & 0x3F) * 0x100 + buf[1]);
        break;
    case 0x40: // c
        sprintf(strbuf, "C%04X", (buf[0] & 0x3F) * 0x100 + buf[1]);
        break;
    case 0x80: // b
        sprintf(strbuf, "B%04X", (buf[0] & 0x3F) * 0x100 + buf[1]);
        break;
    case 0xC0: // u
        sprintf(strbuf, "U%04X", (buf[0] & 0x3F) * 0x100 + buf[1]);
    }
}



//循环发送读码命令 // 返回收到的数据 和长度

int  prossDtcCmd(INIT_MODE_NISSAN index,const ReadDtcMode readdtcmode[],char* pDtcList)  //返回故障个数，故障码编号
{

    uint8_t recvbuf[256] = {0}; //保存收到的数据
    char bufSingalDtc[10] = {0}; //保存单个故障码
		uint8_t DtcFileName[20] = {0};
    uint16_t number = 0;
    uint8_t Pos = 0;
    uint8_t Len = 0;
    uint8_t i = 0;
    uint8_t j = 0;
    uint8_t DtcCount = 0;

    if(m_mode_ReadDtc_Type_index[index] != -1) //记录读码用的那条命令
    {

        if((5 == index || 10 == index)  && 0 == m_mode_ReadDtc_Type_index[index])
        {
            DtcCount =  SpeReadDtcMode(index , 0 , pDtcList);
        }
        else if(21 == index)
        {
            DtcCount =  SpeReadDtcMode(index , m_mode_ReadDtc_Type_index[index] , pDtcList);
        }
        else
        {
					printfUartObdiideBug("second read dtc come !\r\n");
            memset(recvbuf , 0 ,sizeof(recvbuf));
            number = pro_SendRecv((uint8_t*)readdtcmode[m_mode_ReadDtc_Type_index[index]].ReadDtcCmd,recvbuf);
//						printfUartObdiideBug("second read dtc come number ==  %d !\r\n" , number);
            if(number > 0)
            {
//						  	printfUartObdiideBug("second read dtc come number 2 ==  %d !\r\n" , number);
                //计算故障码号，返回故障码号，以逗号隔开
                Pos = readdtcmode[m_mode_ReadDtc_Type_index[index]].pos;
                Len = readdtcmode[m_mode_ReadDtc_Type_index[index]].dtclen;
                DtcCount = (number - Pos)/Len;
								
//							 printfUartObdiideBug("second read dtc come number 3 ==  %d !\r\n" , number);
                for(j = 0; j < DtcCount ; j++)
                {
//										printfUartObdiideBug("second read dtc come number 4 ==  %d !\r\n" , number);
                    memset(bufSingalDtc , 0 , sizeof(bufSingalDtc));	
										memset(DtcFileName , 0 , sizeof(DtcFileName));
										sprintf(DtcFileName,"%02X" , readdtcmode[m_mode_ReadDtc_Type_index[index]].DtcFile );									
                    dtc_sprintf_PCBU(bufSingalDtc,recvbuf + Pos + j * Len);                   
										strcat(DtcFileName , bufSingalDtc);
                    strcat(pDtcList , DtcFileName);
                    strcat(pDtcList,",");
//									printfUartObdiideBug("second read dtc come number 5 ==  %d !\r\n" , number);
                }

            }
            //		if(DtcCount > 0) //读到故障码才发清码命令
        }
			printfUartObdiideBug("Second enter ReadDtc index==%d,m_mode_ReadDtc_Type_index[index]== %d,DtcCount== %d pDtcList==%s\r\n",index,m_mode_ReadDtc_Type_index[index],DtcCount,pDtcList);	
				
    }
    else
    {
       // printfUartObdiideBug("xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx %d\r\n " , index);
      //  printfUartObdiideBug("xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx  m_mode_ReadDtc_Type[index] %d\r\n " ,  m_mode_ReadDtc_Type[index]);
        for( i =0 ; i < m_mode_ReadDtc_Type[index] ; i++)
        {
            if(IsThisTypeOfReadDtc(readdtcmode[i].RdTypeFilteCmdCnt,readdtcmode[i].pRdTypeFilte)) //判断是否支持此读码模式，选择读取的故障码库
            {
                if((5 == index || 10 == index)  && 0 == i)
                {
                    m_mode_ReadDtc_Type_index[index] = i;
                    DtcCount =  SpeReadDtcMode(index , i , pDtcList);
                    break;
                }
                if(21 == index)
                {
                    m_mode_ReadDtc_Type_index[index] = i;
                    DtcCount =  SpeReadDtcMode(index , i , pDtcList);
                    break;
                }
                else
                {

                    memset(recvbuf , 0 ,sizeof(recvbuf));
                    number = pro_SendRecv((uint8_t*)readdtcmode[i].ReadDtcCmd,recvbuf);

                    if(number > 0)
                    {

                        m_mode_ReadDtc_Type_index[index] = i;

                        //计算故障码号，返回故障码号，以逗号隔开
                        Pos = readdtcmode[i].pos;
                        Len = readdtcmode[i].dtclen;
                        DtcCount = (number - Pos)/Len;
                        printfUartObdiideBug("[Nissan Debug Nissan Debug Nissan Debug Nissan Debug ]: Pos is : %d , Len is :%d DtcCount is %d \r\n" ,Pos,Len,DtcCount);
                        for(j = 0; j < DtcCount ; j++)
                        {
                            memset(bufSingalDtc , 0 , sizeof(bufSingalDtc));
														memset(DtcFileName ,0 , sizeof(DtcFileName));
														sprintf(DtcFileName ,"%02X",readdtcmode[i].DtcFile);
                            dtc_sprintf_PCBU(bufSingalDtc,recvbuf + Pos + j * Len);
                            strcat(DtcFileName , bufSingalDtc);
                            strcat(pDtcList , DtcFileName);
                            strcat(pDtcList,",");
                        }      

                        break;
                    }
                }
            }

        }
    }

    return DtcCount;
}

//特殊读码方式
int  SpeReadDtcMode(INIT_MODE_NISSAN index,uint8_t LineNo,char* pDtcList)
{
    uint16_t number = 0;
    uint8_t recvbuf[100] = {0};
    uint8_t DtcBuf[100] = {0};
    int i = 0;
    uint8_t DtcCountAll = 0;
    uint8_t DtcCntSingle = 0;
    //模式6调用的函数指针
    uint8_t (*GetDtc_mode6[6])(uint8_t * ,uint8_t * ) = {
        GetFaultCodeAll_ENG_F564_D21A1,
        GetFaultCodeAll_ENG_F564_D21AF,
        GetFaultCodeAll_ENG_F564_D21A0,
        GetFaultCodeAll_ENG_F564_D21BD,
        GetFaultCodeAll_ENG_F564_D21AD,
        GetFaultCodeAll_ENG_F564_D21AC
    };

    //模式			21

    uint8_t SendBuf[6][4]= {{0x02,0x21,0xa1},{0x02,0x21,0xaF},{0x02,0x21,0xa0},{0x02,0x21,0xBD},{0x02,0x21,0xAD},{0x02,0x21,0xAC} };
    uint8_t SendBuf21[4] = {0x02,0x21,0x94};
    uint8_t SendBuf10[4] = {0x02,0x21,0xc2};
  
    //发送指令，调取用对应的函数，获取故障码

    switch(index)
    {
    case NISSAN_MODE_05:
        for(i = 0 ; i < 6 ; i++ )
        {
					printfUartObdiideBug("555555555");
            memset(recvbuf ,0 , sizeof(recvbuf));
            number = pro_SendRecv(SendBuf[i],recvbuf);
            if(number > 0)
            {
                memset(DtcBuf , 0 , sizeof(DtcBuf));
                DtcCntSingle = GetDtc_mode6[i](recvbuf,DtcBuf);
                DtcCountAll += DtcCntSingle;
                strcat(pDtcList,DtcBuf);
            }
        }
        break;
    case NISSAN_MODE_10:
        memset(recvbuf ,0 , sizeof(recvbuf));
        number = pro_SendRecv(SendBuf10,recvbuf);
        if(number > 0)
        {
            memset(DtcBuf , 0 , sizeof(DtcBuf));
            DtcCountAll = GetFaultCodeAll_TRANSMISSION_D21C2(recvbuf,DtcBuf);
            strcat(pDtcList,DtcBuf);

        }
        break;
    case NISSAN_MODE_21:
        memset(recvbuf ,0 , sizeof(recvbuf));
        number = pro_SendRecv(SendBuf21,recvbuf);
        if(number > 0)
        {
            memset(DtcBuf , 0 , sizeof(DtcBuf));

            switch(LineNo)
            {
            case 0:
                DtcCountAll = GetFaultCodeAll_BCM_D2194_0(recvbuf,DtcBuf);
                break;
            case 1:
                DtcCountAll = GetFaultCodeAll_BCM_D2194_1(recvbuf,DtcBuf);
                break;
            case 2:
                DtcCountAll = GetFaultCodeAll_BCM_D2194_2(recvbuf,DtcBuf);
                break;
            case 3:
                DtcCountAll = GetFaultCodeAll_BCM_D2194_3(recvbuf,DtcBuf);
                break;
            case 4:
                DtcCountAll = GetFaultCodeAll_BCM_D2194_4(recvbuf,DtcBuf);
                break;
            case 5:
                DtcCountAll = GetFaultCodeAll_BCM_D2194_5(recvbuf,DtcBuf);
                break;

            default:
                break;

            }

            strcat(pDtcList,DtcBuf);

        }
        break;

    default:
        break;
    }
    return DtcCountAll;
}



// 计算特殊故障码函数
uint8_t GetFaultCodeAll_ENG_F564_D21A1(uint8_t * pRecvBuf , uint8_t* DtcBuf)
{
    uint8_t dtcCnt = 0;
    if( !pRecvBuf)
        return 0;
    if(strlen(pRecvBuf) >=0x06  && pRecvBuf[0x06]&0x04==0x04) {
        strcat(DtcBuf,"3F11,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x06  && pRecvBuf[0x06]&0x08==0x08) {
        strcat(DtcBuf,"3F12,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x06  && pRecvBuf[0x06]&0x10==0x10) {
        strcat(DtcBuf,"3F13,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x06  && pRecvBuf[0x06]&0x20==0x20) {
        strcat(DtcBuf,"3F14,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x06  && pRecvBuf[0x06]&0x40==0x40) {
        strcat(DtcBuf,"3F15,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x06  && pRecvBuf[0x06]&0x80==0x80) {
        strcat(DtcBuf,"3F16,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x09  && pRecvBuf[0x09]&0x20==0x20) {
        strcat(DtcBuf,"3F22,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x0A  && pRecvBuf[0x0A]&0x20==0x20) {
        strcat(DtcBuf,"3F22,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x0A  && pRecvBuf[0x0A]&0x01==0x01) {
        strcat(DtcBuf,"3F23,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x0A  && pRecvBuf[0x0A]&0x02==0x02) {
        strcat(DtcBuf,"3F24,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x0A  && pRecvBuf[0x0A]&0x08==0x08) {
        strcat(DtcBuf,"3F25,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x0A  && pRecvBuf[0x0A]&0x10==0x10) {
        strcat(DtcBuf,"3F26,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x0A  && pRecvBuf[0x0A]&0x40==0x40) {
        strcat(DtcBuf,"3F27,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x0D  && pRecvBuf[0x0D]&0x02==0x02) {
        strcat(DtcBuf,"3F30,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x0E  && pRecvBuf[0x0E]&0x02==0x02) {
        strcat(DtcBuf,"3F30,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x0D  && pRecvBuf[0x0D]&0x08==0x08) {
        strcat(DtcBuf,"3F31,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x0E  && pRecvBuf[0x0E]&0x08==0x08) {
        strcat(DtcBuf,"3F31,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x0D  && pRecvBuf[0x0D]&0x40==0x40) {
        strcat(DtcBuf,"3F32,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x0E  && pRecvBuf[0x0E]&0x40==0x40) {
        strcat(DtcBuf,"3F32,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x0D  && pRecvBuf[0x0D]&0x80==0x80) {
        strcat(DtcBuf,"3F33,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x0E  && pRecvBuf[0x0E]&0x80==0x80) {
        strcat(DtcBuf,"3F33,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x0E  && pRecvBuf[0x0E]&0x01==0x01) {
        strcat(DtcBuf,"3F34,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x0E  && pRecvBuf[0x0E]&0x04==0x04) {
        strcat(DtcBuf,"3F35,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x0E  && pRecvBuf[0x0E]&0x10==0x10) {
        strcat(DtcBuf,"3F36,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x0E  && pRecvBuf[0x0E]&0x20==0x20) {
        strcat(DtcBuf,"3F37,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x11  && pRecvBuf[0x11]&0x02==0x02) {
        strcat(DtcBuf,"3F38,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x12  && pRecvBuf[0x12]&0x02==0x02) {
        strcat(DtcBuf,"3F38,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x11  && pRecvBuf[0x11]&0x10==0x10) {
        strcat(DtcBuf,"3F39,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x12  && pRecvBuf[0x12]&0x10==0x10) {
        strcat(DtcBuf,"3F39,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x11  && pRecvBuf[0x11]&0x20==0x20) {
        strcat(DtcBuf,"3F3A,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x12  && pRecvBuf[0x12]&0x20==0x20) {
        strcat(DtcBuf,"3F3A,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x11  && pRecvBuf[0x11]&0x40==0x40) {
        strcat(DtcBuf,"3F3B,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x12  && pRecvBuf[0x12]&0x40==0x40) {
        strcat(DtcBuf,"3F3B,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x11  && pRecvBuf[0x11]&0x80==0x80) {
        strcat(DtcBuf,"3F3C,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x12  && pRecvBuf[0x12]&0x80==0x80) {
        strcat(DtcBuf,"3F3C,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x0a  && (pRecvBuf[0x07]&0x80==0x80 || pRecvBuf[0x09]&0x80==0x80)&& pRecvBuf[0x0A]&0x80==0x80) {
        strcat(DtcBuf,"3F1C,");
        dtcCnt++;
    }

    return dtcCnt;
}

uint8_t GetFaultCodeAll_ENG_F564_D21AF(uint8_t* pRecvBuf , uint8_t* DtcBuf)
{


    uint8_t dtcCnt = 0;
    if( !pRecvBuf)
        return 0;
    if(strlen(pRecvBuf) >=0x03 && pRecvBuf[0x03]&0x01==0x01) {
        strcat(DtcBuf,"3F6E,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x04 && pRecvBuf[0x04]&0x01==0x01) {
        strcat(DtcBuf,"3F6E,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x03 && pRecvBuf[0x03]&0x02==0x02) {
        strcat(DtcBuf,"3F6F,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x04 && pRecvBuf[0x04]&0x02==0x02) {
        strcat(DtcBuf,"3F6F,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x03 && pRecvBuf[0x03]&0x04==0x04) {
        strcat(DtcBuf,"3F70,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x04 && pRecvBuf[0x04]&0x04==0x04) {
        strcat(DtcBuf,"3F70,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x03 && pRecvBuf[0x03]&0x10==0x10) {
        strcat(DtcBuf,"3F71,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x04 && pRecvBuf[0x04]&0x10==0x10) {
        strcat(DtcBuf,"3F71,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x06 && pRecvBuf[0x06]&0x20==0x20) {
        strcat(DtcBuf,"3F72,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x07 && pRecvBuf[0x07]&0x20==0x20) {
        strcat(DtcBuf,"3F72,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x06 && pRecvBuf[0x06]&0x40==0x40) {
        strcat(DtcBuf,"3F73,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x07 && pRecvBuf[0x07]&0x40==0x40) {
        strcat(DtcBuf,"3F73,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x06 && pRecvBuf[0x06]&0x80==0x80) {
        strcat(DtcBuf,"3F74,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x07 && pRecvBuf[0x07]&0x80==0x80) {
        strcat(DtcBuf,"3F74,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x09 && pRecvBuf[0x09]&0x40==0x40) {
        strcat(DtcBuf,"3F75,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x0A && pRecvBuf[0x0A]&0x40==0x40) {
        strcat(DtcBuf,"3F75,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x09 && pRecvBuf[0x09]&0x80==0x80) {
        strcat(DtcBuf,"3F76,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x0A && pRecvBuf[0x0A]&0x80==0x80) {
        strcat(DtcBuf,"3F76,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x0C && pRecvBuf[0x0C]&0x04==0x04) {
        strcat(DtcBuf,"3F77,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x0D && pRecvBuf[0x0D]&0x04==0x04) {
        strcat(DtcBuf,"3F77,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x0C && pRecvBuf[0x0C]&0x08==0x08) {
        strcat(DtcBuf,"3F78,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x0D && pRecvBuf[0x0D]&0x08==0x08) {
        strcat(DtcBuf,"3F78,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x0C && pRecvBuf[0x0C]&0x10==0x10) {
        strcat(DtcBuf,"3F79,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x0D && pRecvBuf[0x0D]&0x10==0x10) {
        strcat(DtcBuf,"3F79,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x0C && pRecvBuf[0x0C]&0x20==0x20) {
        strcat(DtcBuf,"3F7A,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x0D && pRecvBuf[0x0D]&0x20==0x20) {
        strcat(DtcBuf,"3F7A,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x0C && pRecvBuf[0x0C]&0x40==0x40) {
        strcat(DtcBuf,"3F7B,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x0D && pRecvBuf[0x0D]&0x40==0x40) {
        strcat(DtcBuf,"3F7B,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x0F && pRecvBuf[0x0F]&0x40==0x40) {
        strcat(DtcBuf,"3F7C,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x10 && pRecvBuf[0x10]&0x40==0x40) {
        strcat(DtcBuf,"3F7C,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x12 && pRecvBuf[0x12]&0x01==0x01) {
        strcat(DtcBuf,"3F7D,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x12 && pRecvBuf[0x12]&0x02==0x02) {
        strcat(DtcBuf,"3F7E,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x13 && pRecvBuf[0x13]&0x02==0x02) {
        strcat(DtcBuf,"3F7E,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x12 && pRecvBuf[0x12]&0x04==0x04) {
        strcat(DtcBuf,"3F7F,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x13 && pRecvBuf[0x13]&0x04==0x04) {
        strcat(DtcBuf,"3F7F,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x12 && pRecvBuf[0x12]&0x08==0x08) {
        strcat(DtcBuf,"3F80,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x13 && pRecvBuf[0x13]&0x08==0x08) {
        strcat(DtcBuf,"3F80,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x12 && pRecvBuf[0x12]&0x10==0x10) {
        strcat(DtcBuf,"3F81,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x13 && pRecvBuf[0x13]&0x10==0x10) {
        strcat(DtcBuf,"3F81,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x12 && pRecvBuf[0x12]&0x20==0x20) {
        strcat(DtcBuf,"3F82,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x13 && pRecvBuf[0x13]&0x20==0x20) {
        strcat(DtcBuf,"3F82,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x14 && pRecvBuf[0x14]&0x02==0x02) {
        strcat(DtcBuf,"3F83,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x15 && pRecvBuf[0x15]&0x02==0x02) {
        strcat(DtcBuf,"3F84,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x16 && pRecvBuf[0x16]&0x02==0x02) {
        strcat(DtcBuf,"3F84,");
        dtcCnt++;
    }

    return dtcCnt;
}

uint8_t GetFaultCodeAll_ENG_F564_D21A0(uint8_t* pRecvBuf , uint8_t* DtcBuf)
{

    uint8_t dtcCnt = 0;

    if( !pRecvBuf)
        return 0;
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x01==0x01) {
        strcat(DtcBuf,"3F41,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x05 && pRecvBuf[0x05]&0x01==0x01) {
        strcat(DtcBuf,"3F41,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x02==0x02) {
        strcat(DtcBuf,"3F42,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x05 && pRecvBuf[0x05]&0x02==0x02) {
        strcat(DtcBuf,"3F42,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x04==0x04) {
        strcat(DtcBuf,"3F43,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x05 && pRecvBuf[0x05]&0x04==0x04) {
        strcat(DtcBuf,"3F43,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x10==0x10) {
        strcat(DtcBuf,"3F44,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x05 && pRecvBuf[0x05]&0x10==0x10) {
        strcat(DtcBuf,"3F44,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x20==0x20) {
        strcat(DtcBuf,"3F45,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x05 && pRecvBuf[0x05]&0x20==0x20) {
        strcat(DtcBuf,"3F45,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x06 && pRecvBuf[0x06]&0x04==0x04) {
        strcat(DtcBuf,"3F46,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x06 && pRecvBuf[0x06]&0x08==0x08) {
        strcat(DtcBuf,"3F47,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x07 && pRecvBuf[0x07]&0x08==0x08) {
        strcat(DtcBuf,"3F47,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x06 && pRecvBuf[0x06]&0x10==0x10) {
        strcat(DtcBuf,"3F48,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x07 && pRecvBuf[0x07]&0x10==0x10) {
        strcat(DtcBuf,"3F48,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x06 && pRecvBuf[0x06]&0x20==0x20) {
        strcat(DtcBuf,"3F49,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x07 && pRecvBuf[0x07]&0x20==0x20) {
        strcat(DtcBuf,"3F49,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x06 && pRecvBuf[0x06]&0x40==0x40) {
        strcat(DtcBuf,"3F4A,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x07 && pRecvBuf[0x07]&0x40==0x40) {
        strcat(DtcBuf,"3F4A,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x06 && pRecvBuf[0x06]&0x80==0x80) {
        strcat(DtcBuf,"3F4B,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x07 && pRecvBuf[0x07]&0x80==0x80) {
        strcat(DtcBuf,"3F4B,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x07 && pRecvBuf[0x07]&0x04==0x04) {
        strcat(DtcBuf,"3F4C,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x01==0x01) {
        strcat(DtcBuf,"3F51,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0B && pRecvBuf[0x0B]&0x01==0x01) {
        strcat(DtcBuf,"3F51,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x02==0x02) {
        strcat(DtcBuf,"3F52,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0B && pRecvBuf[0x0B]&0x02==0x02) {
        strcat(DtcBuf,"3F52,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x10==0x10) {
        strcat(DtcBuf,"3F53,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x40==0x40) {
        strcat(DtcBuf,"3F54,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0B && pRecvBuf[0x0B]&0x40==0x40) {
        strcat(DtcBuf,"3F54,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0C && pRecvBuf[0x0C]&0x01==0x01) {
        strcat(DtcBuf,"3F57,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0C && pRecvBuf[0x0C]&0x20==0x20) {
        strcat(DtcBuf,"3F59,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0C && pRecvBuf[0x0C]&0x40==0x40) {
        strcat(DtcBuf,"3F5A,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0E && pRecvBuf[0x0E]&0x10==0x10) {
        strcat(DtcBuf,"3F5B,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0F && pRecvBuf[0x0F]&0x10==0x10) {
        strcat(DtcBuf,"3F5C,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x10 && pRecvBuf[0x10]&0x10==0x10) {
        strcat(DtcBuf,"3F5C,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0F && pRecvBuf[0x0F]&0x20==0x20) {
        strcat(DtcBuf,"3F5D,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x10 && pRecvBuf[0x10]&0x20==0x20) {
        strcat(DtcBuf,"3F5D,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x12 && pRecvBuf[0x12]&0x02==0x02) {
        strcat(DtcBuf,"3F5E,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x13 && pRecvBuf[0x13]&0x02==0x02) {
        strcat(DtcBuf,"3F5E,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x12 && pRecvBuf[0x12]&0x20==0x20) {
        strcat(DtcBuf,"3F5F,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x13 && pRecvBuf[0x13]&0x20==0x20) {
        strcat(DtcBuf,"3F5F,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x12 && pRecvBuf[0x12]&0x40==0x40) {
        strcat(DtcBuf,"3F60,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x13 && pRecvBuf[0x13]&0x40==0x40) {
        strcat(DtcBuf,"3F60,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x12 && pRecvBuf[0x12]&0x80==0x80) {
        strcat(DtcBuf,"3F61,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x13 && pRecvBuf[0x13]&0x80==0x80) {
        strcat(DtcBuf,"3F61,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x14 && pRecvBuf[0x14]&0x10==0x10) {
        strcat(DtcBuf,"3F62,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x16 && pRecvBuf[0x16]&0x10==0x10) {
        strcat(DtcBuf,"3F62,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x14 && pRecvBuf[0x14]&0x20==0x20) {
        strcat(DtcBuf,"3F63,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x16 && pRecvBuf[0x16]&0x20==0x20) {
        strcat(DtcBuf,"3F63,");
        dtcCnt++;
    }

    return dtcCnt;
}

uint8_t GetFaultCodeAll_ENG_F564_D21BD(uint8_t* pRecvBuf ,uint8_t* DtcBuf)
{


    uint8_t dtcCnt = 0;
    if( !pRecvBuf)
        return 0;
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x04==0x04) {
        strcat(DtcBuf,"3F88,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x03 && pRecvBuf[0x03]&0x04==0x04) {
        strcat(DtcBuf,"3F88,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x40==0x40) {
        strcat(DtcBuf,"3F89,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x03 && pRecvBuf[0x03]&0x40==0x40) {
        strcat(DtcBuf,"3F89,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x80==0x80) {
        strcat(DtcBuf,"3F8A,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x03 && pRecvBuf[0x03]&0x80==0x80) {
        strcat(DtcBuf,"3F8A,");
        dtcCnt++;
    }
    return dtcCnt;
}

uint8_t GetFaultCodeAll_ENG_F564_D21AD(uint8_t* pRecvBuf , uint8_t* DtcBuf)
{
    uint8_t dtcCnt = 0;
    if( !pRecvBuf)
        return 0;
    if(strlen(pRecvBuf) >= 0x06 && pRecvBuf[0x06]&0x02==0x02) {
        strcat(DtcBuf,"3F64,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x06 && pRecvBuf[0x06]&0x20==0x20) {
        strcat(DtcBuf,"3F65,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x07 && pRecvBuf[0x07]&0x02==0x02) {
        strcat(DtcBuf,"3F66,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x07 && pRecvBuf[0x07]&0x04==0x04) {
        strcat(DtcBuf,"3F67,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x07 && pRecvBuf[0x07]&0x20==0x20) {
        strcat(DtcBuf,"3F68,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x07 && pRecvBuf[0x07]&0x80==0x80) {
        strcat(DtcBuf,"3F69,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x08 && pRecvBuf[0x08]&0x02==0x02) {
        strcat(DtcBuf,"3F6A,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x09 && pRecvBuf[0x09]&0x02==0x02) {
        strcat(DtcBuf,"3F6A,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x08 && pRecvBuf[0x08]&0x04==0x04) {
        strcat(DtcBuf,"3F6B,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x09 && pRecvBuf[0x09]&0x04==0x04) {
        strcat(DtcBuf,"3F6B,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x08 && pRecvBuf[0x08]&0x20==0x20) {
        strcat(DtcBuf,"3F6C,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x09 && pRecvBuf[0x09]&0x20==0x20) {
        strcat(DtcBuf,"3F6C,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x08 && pRecvBuf[0x08]&0x80==0x80) {
        strcat(DtcBuf,"3F6D,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x09 && pRecvBuf[0x09]&0x80==0x80) {
        strcat(DtcBuf,"3F6D,");
        dtcCnt++;
    }
    return dtcCnt;
}

uint8_t GetFaultCodeAll_ENG_F564_D21AC(uint8_t* pRecvBuf,uint8_t* DtcBuf)
{


    uint8_t dtcCnt = 0;
    if( !pRecvBuf)
        return 0;
    if(strlen(pRecvBuf) >= 0x16 && pRecvBuf[0x16]&0x20==0x20) {
        strcat(DtcBuf,"3F85,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x17 && pRecvBuf[0x17]&0x20==0x20) {
        strcat(DtcBuf,"3F85,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x16 && pRecvBuf[0x16]&0x40==0x40) {
        strcat(DtcBuf,"3F86,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x17 && pRecvBuf[0x17]&0x40==0x40) {
        strcat(DtcBuf,"3F86,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x16 && pRecvBuf[0x16]&0x80==0x80) {
        strcat(DtcBuf,"3F87,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x17 && pRecvBuf[0x17]&0x80==0x80) {
        strcat(DtcBuf,"3F87,");
        dtcCnt++;
    }
    return dtcCnt;
}

uint8_t GetFaultCodeAll_BCM_D2194_0(uint8_t * pRecvBuf , uint8_t* DtcBuf)
{
    uint8_t dtcCnt = 0;
    if( !pRecvBuf)
        return 0;
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x10==0x10 ) {
        strcat(DtcBuf,"A101,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x04==0x04 ) {
        strcat(DtcBuf,"A102,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x03==0x03 ) {
        strcat(DtcBuf,"A10C,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x03==0x03 ) {
        strcat(DtcBuf,"A105,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x03==0x03 ) {
        strcat(DtcBuf,"A105,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x03 && pRecvBuf[0x03]&0x20==0x20 ) {
        strcat(DtcBuf,"A109,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x03 && pRecvBuf[0x03]&0x10==0x10 ) {
        strcat(DtcBuf,"A10B,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x07==0x07 ) {
        strcat(DtcBuf,"A108,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x07==0x07 ) {
        strcat(DtcBuf,"A108,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x07==0x07 ) {
        strcat(DtcBuf,"A10D,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x07==0x07 ) {
        strcat(DtcBuf,"A10D,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x07==0x07 ) {
        strcat(DtcBuf,"A10D,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x07==0x07 ) {
        strcat(DtcBuf,"A10D,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x08==0x08 ) {
        strcat(DtcBuf,"A107,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x05 && pRecvBuf[0x05]&0x03==0x03 ) {
        strcat(DtcBuf,"A10A,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x05 && pRecvBuf[0x05]&0x03==0x03 ) {
        strcat(DtcBuf,"A10E,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x05 && pRecvBuf[0x05]&0x03==0x03 ) {
        strcat(DtcBuf,"A10E,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x08 && pRecvBuf[0x08]&0x04==0x04 ) {
        strcat(DtcBuf,"A10F,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x08 && pRecvBuf[0x08]&0x10==0x10 ) {
        strcat(DtcBuf,"A110,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x09 && pRecvBuf[0x09]&0x10==0x10 ) {
        strcat(DtcBuf,"A111,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x09 && pRecvBuf[0x09]&0x20==0x20 ) {
        strcat(DtcBuf,"A112,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x07==0x07 ) {
        strcat(DtcBuf,"A113,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x07==0x07 ) {
        strcat(DtcBuf,"A113,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x07==0x07 ) {
        strcat(DtcBuf,"A114,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x07==0x07 ) {
        strcat(DtcBuf,"A114,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x07==0x07 ) {
        strcat(DtcBuf,"A114,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x07==0x07 ) {
        strcat(DtcBuf,"A114,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x08==0x08 ) {
        strcat(DtcBuf,"A115,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0B && pRecvBuf[0x0B]&0x03==0x03 ) {
        strcat(DtcBuf,"A116,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0B && pRecvBuf[0x0B]&0x03==0x03 ) {
        strcat(DtcBuf,"A117,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0B && pRecvBuf[0x0B]&0x03==0x03 ) {
        strcat(DtcBuf,"A117,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x12 && pRecvBuf[0x12] > 0x00 ) {
        strcat(DtcBuf,"A118,");
        dtcCnt++;
    }
    return dtcCnt;
}

uint8_t GetFaultCodeAll_BCM_D2194_1(uint8_t * pRecvBuf , uint8_t* DtcBuf)
{
    uint8_t dtcCnt = 0;
    if( !pRecvBuf)
        return 0;
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x01==0x01 ) {
        strcat(DtcBuf,"A20F,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x02==0x02 ) {
        strcat(DtcBuf,"A20A,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x04==0x04 ) {
        strcat(DtcBuf,"A201,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x10==0x10 ) {
        strcat(DtcBuf,"A209,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x80==0x80 ) {
        strcat(DtcBuf,"A207,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x03 && pRecvBuf[0x03]&0x10==0x10 ) {
        strcat(DtcBuf,"A204,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x03 && pRecvBuf[0x03]&0x20==0x20 ) {
        strcat(DtcBuf,"A20D,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x02==0x02 ) {
        strcat(DtcBuf,"A208,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x04==0x04 ) {
        strcat(DtcBuf,"A20C,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x08==0x08 ) {
        strcat(DtcBuf,"A206,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x08==0x08 ) {
        strcat(DtcBuf,"A20B,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x05 && pRecvBuf[0x05]&0x02==0x02 ) {
        strcat(DtcBuf,"A203,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x05 && pRecvBuf[0x05]&0x01==0x01 ) {
        strcat(DtcBuf,"A20E,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x08 && pRecvBuf[0x08]&0x04==0x04 ) {
        strcat(DtcBuf,"A210,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x08 && pRecvBuf[0x08]&0x10==0x10 ) {
        strcat(DtcBuf,"A211,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x09 && pRecvBuf[0x09]&0x10==0x10 ) {
        strcat(DtcBuf,"A212,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x09 && pRecvBuf[0x09]&0x20==0x20 ) {
        strcat(DtcBuf,"A213,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x02==0x02 ) {
        strcat(DtcBuf,"A215,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x04==0x04 ) {
        strcat(DtcBuf,"A217,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x08==0x08 ) {
        strcat(DtcBuf,"A214,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x08==0x08 ) {
        strcat(DtcBuf,"A216,");
        dtcCnt++;
    }
    return dtcCnt;
}

uint8_t GetFaultCodeAll_BCM_D2194_2(uint8_t * pRecvBuf , uint8_t* DtcBuf)
{
    uint8_t dtcCnt = 0;
    if( !pRecvBuf)
        return 0;
    if(strlen(pRecvBuf) >= 0x08 && pRecvBuf[0x08]&0x80==0x80 ) {
        strcat(DtcBuf,"A300,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x80==0x80 ) {
        strcat(DtcBuf,"A300,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0B && pRecvBuf[0x0B]&0x20==0x20 ) {
        strcat(DtcBuf,"A301,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x05 && pRecvBuf[0x05]&0x20==0x20 ) {
        strcat(DtcBuf,"A301,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x03 && pRecvBuf[0x03]&0x20==0x20 ) {
        strcat(DtcBuf,"A302,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x03 && pRecvBuf[0x03]&0x10==0x10 ) {
        strcat(DtcBuf,"A302,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x09 && pRecvBuf[0x09]&0x20==0x20 ) {
        strcat(DtcBuf,"A302,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x09 && pRecvBuf[0x09]&0x10==0x10 ) {
        strcat(DtcBuf,"A302,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0B && pRecvBuf[0x0B]&0x01==0x01 ) {
        strcat(DtcBuf,"A302,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x03 && pRecvBuf[0x03]&0x08==0x08 ) {
        strcat(DtcBuf,"A302,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x03 && pRecvBuf[0x03]&0x04==0x04 ) {
        strcat(DtcBuf,"A302,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x05 && pRecvBuf[0x05]&0x01==0x01 ) {
        strcat(DtcBuf,"A302,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x03 && pRecvBuf[0x03]&0x01==0x01 ) {
        strcat(DtcBuf,"A303,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x03 && pRecvBuf[0x03]&0x02==0x02 ) {
        strcat(DtcBuf,"A303,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x20==0x20 ) {
        strcat(DtcBuf,"A304,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x10==0x10 ) {
        strcat(DtcBuf,"A304,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x10==0x10 ) {
        strcat(DtcBuf,"A304,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x05 && pRecvBuf[0x05]&0x04==0x04 ) {
        strcat(DtcBuf,"A305,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0B && pRecvBuf[0x0B]&0x04==0x04 ) {
        strcat(DtcBuf,"A305,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x01==0x01 ) {
        strcat(DtcBuf,"A306,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x08 && pRecvBuf[0x08]&0x04==0x04 ) {
        strcat(DtcBuf,"A307,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x04==0x04 ) {
        strcat(DtcBuf,"A307,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x09 && pRecvBuf[0x09]&0x80==0x80 ) {
        strcat(DtcBuf,"A308,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x03 && pRecvBuf[0x03]&0x80==0x80 ) {
        strcat(DtcBuf,"A308,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x02==0x02 ) {
        strcat(DtcBuf,"A309,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x40==0x40 ) {
        strcat(DtcBuf,"A30A,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x08 && pRecvBuf[0x08]&0x40==0x40 ) {
        strcat(DtcBuf,"A30A,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x08 && pRecvBuf[0x08]&0x20==0x20 ) {
        strcat(DtcBuf,"A30A,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x20==0x20 ) {
        strcat(DtcBuf,"A30A,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0B && pRecvBuf[0x0B]&0x40==0x40 ) {
        strcat(DtcBuf,"A30B,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x05 && pRecvBuf[0x05]&0x40==0x40 ) {
        strcat(DtcBuf,"A30B,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0B && pRecvBuf[0x0B]&0x80==0x80 ) {
        strcat(DtcBuf,"A30C,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x05 && pRecvBuf[0x05]&0x80==0x80 ) {
        strcat(DtcBuf,"A30C,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x09 && pRecvBuf[0x09]&0x40==0x40 ) {
        strcat(DtcBuf,"A30D,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x03 && pRecvBuf[0x03]&0x40==0x40 ) {
        strcat(DtcBuf,"A30D,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x40==0x40 ) {
        strcat(DtcBuf,"A30E,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x01==0x01 ) {
        strcat(DtcBuf,"A30E,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x40==0x40 ) {
        strcat(DtcBuf,"A30E,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x01==0x01 ) {
        strcat(DtcBuf,"A30E,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x07 && pRecvBuf[0x07]&0x02==0x02 ) {
        strcat(DtcBuf,"A30F,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x10 && pRecvBuf[0x10]&0x02==0x02 ) {
        strcat(DtcBuf,"A30F,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x10 && pRecvBuf[0x10]&0x04==0x04 ) {
        strcat(DtcBuf,"A30F,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x10 && pRecvBuf[0x10]&0x08==0x08 ) {
        strcat(DtcBuf,"A30F,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x07 && pRecvBuf[0x07]&0x04==0x04 ) {
        strcat(DtcBuf,"A30F,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x07 && pRecvBuf[0x07]&0x08==0x08 ) {
        strcat(DtcBuf,"A30F,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x10==0x10 ) {
        strcat(DtcBuf,"A310,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x10 && pRecvBuf[0x10]&0x01==0x01 ) {
        strcat(DtcBuf,"A311,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x80==0x80 ) {
        strcat(DtcBuf,"A311,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x02==0x02 ) {
        strcat(DtcBuf,"A311,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x80==0x80 ) {
        strcat(DtcBuf,"A311,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x02==0x02 ) {
        strcat(DtcBuf,"A311,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x07 && pRecvBuf[0x07]&0x01==0x01 ) {
        strcat(DtcBuf,"A311,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0B && pRecvBuf[0x0B]&0x08==0x08 ) {
        strcat(DtcBuf,"A312,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x05 && pRecvBuf[0x05]&0x08==0x08 ) {
        strcat(DtcBuf,"A312,");
        dtcCnt++;
    }
    return dtcCnt;
}
uint8_t GetFaultCodeAll_BCM_D2194_3(uint8_t * pRecvBuf , uint8_t* DtcBuf)
{
    uint8_t dtcCnt = 0;
    if( !pRecvBuf)
        return 0;

    if(strlen(pRecvBuf) >= 0x08 && pRecvBuf[0x08]&0x80==0x80 ) {
        strcat(DtcBuf,"A400,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x03 && pRecvBuf[0x03]&0x08==0x08 ) {
        strcat(DtcBuf,"A401,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x03 && pRecvBuf[0x03]&0x04==0x04 ) {
        strcat(DtcBuf,"A401,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x03 && pRecvBuf[0x03]&0x01==0x01 ) {
        strcat(DtcBuf,"A402,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x03 && pRecvBuf[0x03]&0x02==0x02 ) {
        strcat(DtcBuf,"A402,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x09 && pRecvBuf[0x09]&0x01==0x01 ) {
        strcat(DtcBuf,"A402,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x09 && pRecvBuf[0x09]&0x02==0x02 ) {
        strcat(DtcBuf,"A402,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x20==0x20 ) {
        strcat(DtcBuf,"A403,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x10==0x10 ) {
        strcat(DtcBuf,"A403,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x20==0x20 ) {
        strcat(DtcBuf,"A403,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x10==0x10 ) {
        strcat(DtcBuf,"A403,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x01==0x01 ) {
        strcat(DtcBuf,"A404,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x08==0x08 ) {
        strcat(DtcBuf,"A405,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x04==0x04 ) {
        strcat(DtcBuf,"A405,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x08==0x08 ) {
        strcat(DtcBuf,"A405,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x04==0x04 ) {
        strcat(DtcBuf,"A405,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x08 && pRecvBuf[0x08]&0x04==0x04 ) {
        strcat(DtcBuf,"A406,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x04==0x04 ) {
        strcat(DtcBuf,"A406,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x02==0x02 ) {
        strcat(DtcBuf,"A407,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x40==0x40 ) {
        strcat(DtcBuf,"A408,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x08 && pRecvBuf[0x08]&0x40==0x40 ) {
        strcat(DtcBuf,"A408,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x08 && pRecvBuf[0x08]&0x20==0x20 ) {
        strcat(DtcBuf,"A408,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x20==0x20 ) {
        strcat(DtcBuf,"A408,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x03 && pRecvBuf[0x03]&0x20==0x20 ) {
        strcat(DtcBuf,"A409,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x03 && pRecvBuf[0x03]&0x10==0x10 ) {
        strcat(DtcBuf,"A409,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x09 && pRecvBuf[0x09]&0x20==0x20 ) {
        strcat(DtcBuf,"A409,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x09 && pRecvBuf[0x09]&0x10==0x10 ) {
        strcat(DtcBuf,"A409,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x09 && pRecvBuf[0x09]&0x40==0x40 ) {
        strcat(DtcBuf,"A40A,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x03 && pRecvBuf[0x03]&0x40==0x40 ) {
        strcat(DtcBuf,"A40A,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x40==0x40 ) {
        strcat(DtcBuf,"A40B,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x01==0x01 ) {
        strcat(DtcBuf,"A40B,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x40==0x40 ) {
        strcat(DtcBuf,"A40B,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x01==0x01 ) {
        strcat(DtcBuf,"A40B,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x07 && pRecvBuf[0x07]&0x02==0x02 ) {
        strcat(DtcBuf,"A40C,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x10 && pRecvBuf[0x10]&0x02==0x02 ) {
        strcat(DtcBuf,"A40C,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x10 && pRecvBuf[0x10]&0x04==0x04 ) {
        strcat(DtcBuf,"A40C,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x10 && pRecvBuf[0x10]&0x08==0x08 ) {
        strcat(DtcBuf,"A40C,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x07 && pRecvBuf[0x07]&0x04==0x04 ) {
        strcat(DtcBuf,"A40C,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x07 && pRecvBuf[0x07]&0x08==0x08 ) {
        strcat(DtcBuf,"A40C,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x08 && pRecvBuf[0x08]&0x10==0x10 ) {
        strcat(DtcBuf,"A40D,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x10==0x10 ) {
        strcat(DtcBuf,"A40D,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x10 && pRecvBuf[0x10]&0x01==0x01 ) {
        strcat(DtcBuf,"A40E,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x80==0x80 ) {
        strcat(DtcBuf,"A40E,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x02==0x02 ) {
        strcat(DtcBuf,"A40E,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x80==0x80 ) {
        strcat(DtcBuf,"A40E,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x02==0x02 ) {
        strcat(DtcBuf,"A40E,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x07 && pRecvBuf[0x07]&0x01==0x01 ) {
        strcat(DtcBuf,"A40E,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x12 && pRecvBuf[0x12] > 0x00 ) {
        strcat(DtcBuf,"A40F,");
        dtcCnt++;
    }
    return dtcCnt;
}
uint8_t GetFaultCodeAll_BCM_D2194_4(uint8_t * pRecvBuf , uint8_t* DtcBuf)
{
    uint8_t dtcCnt = 0;
    if( !pRecvBuf)
        return 0;

    if(strlen(pRecvBuf) >= 0x08 && pRecvBuf[0x08]&0x80==0x80 ) {
        strcat(DtcBuf,"A500,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x80==0x80 ) {
        strcat(DtcBuf,"A500,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0B && pRecvBuf[0x0B]&0x20==0x20 ) {
        strcat(DtcBuf,"A501,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x05 && pRecvBuf[0x05]&0x20==0x20 ) {
        strcat(DtcBuf,"A501,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x03 && pRecvBuf[0x03]&0x08==0x08 ) {
        strcat(DtcBuf,"A502,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x03 && pRecvBuf[0x03]&0x04==0x04 ) {
        strcat(DtcBuf,"A502,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x03 && pRecvBuf[0x03]&0x01==0x01 ) {
        strcat(DtcBuf,"A503,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x03 && pRecvBuf[0x03]&0x02==0x02 ) {
        strcat(DtcBuf,"A503,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x09 && pRecvBuf[0x09]&0x01==0x01 ) {
        strcat(DtcBuf,"A503,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x09 && pRecvBuf[0x09]&0x02==0x02 ) {
        strcat(DtcBuf,"A503,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x20==0x20 ) {
        strcat(DtcBuf,"A504,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x20==0x20 ) {
        strcat(DtcBuf,"A504,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x10==0x10 ) {
        strcat(DtcBuf,"A504,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x10==0x10 ) {
        strcat(DtcBuf,"A504,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x05 && pRecvBuf[0x05]&0x04==0x04 ) {
        strcat(DtcBuf,"A505,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0B && pRecvBuf[0x0B]&0x04==0x04 ) {
        strcat(DtcBuf,"A505,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x01==0x01 ) {
        strcat(DtcBuf,"A506,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x08==0x08 ) {
        strcat(DtcBuf,"A507,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x04==0x04 ) {
        strcat(DtcBuf,"A507,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x08==0x08 ) {
        strcat(DtcBuf,"A507,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x04==0x04 ) {
        strcat(DtcBuf,"A507,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x08 && pRecvBuf[0x08]&0x04==0x04 ) {
        strcat(DtcBuf,"A508,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x04==0x04 ) {
        strcat(DtcBuf,"A508,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x09 && pRecvBuf[0x09]&0x80==0x80 ) {
        strcat(DtcBuf,"A509,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x03 && pRecvBuf[0x03]&0x80==0x80 ) {
        strcat(DtcBuf,"A509,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x02==0x02 ) {
        strcat(DtcBuf,"A50A,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x40==0x40 ) {
        strcat(DtcBuf,"A50B,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x08 && pRecvBuf[0x08]&0x40==0x40 ) {
        strcat(DtcBuf,"A50B,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x08 && pRecvBuf[0x08]&0x20==0x20 ) {
        strcat(DtcBuf,"A50B,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x20==0x20 ) {
        strcat(DtcBuf,"A50B,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0B && pRecvBuf[0x0B]&0x40==0x40 ) {
        strcat(DtcBuf,"A50C,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x05 && pRecvBuf[0x05]&0x40==0x40 ) {
        strcat(DtcBuf,"A50C,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0B && pRecvBuf[0x0B]&0x80==0x80 ) {
        strcat(DtcBuf,"A50D,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x05 && pRecvBuf[0x05]&0x80==0x80 ) {
        strcat(DtcBuf,"A50D,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x03 && pRecvBuf[0x03]&0x20==0x20 ) {
        strcat(DtcBuf,"A50E,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x03 && pRecvBuf[0x03]&0x10==0x10 ) {
        strcat(DtcBuf,"A50E,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x09 && pRecvBuf[0x09]&0x20==0x20 ) {
        strcat(DtcBuf,"A50E,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x09 && pRecvBuf[0x09]&0x10==0x10 ) {
        strcat(DtcBuf,"A50E,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x09 && pRecvBuf[0x09]&0x40==0x40 ) {
        strcat(DtcBuf,"A50F,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x03 && pRecvBuf[0x03]&0x40==0x40 ) {
        strcat(DtcBuf,"A50F,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x40==0x40 ) {
        strcat(DtcBuf,"A510,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x01==0x01 ) {
        strcat(DtcBuf,"A510,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x40==0x40 ) {
        strcat(DtcBuf,"A510,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x01==0x01 ) {
        strcat(DtcBuf,"A510,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x07 && pRecvBuf[0x07]&0x02==0x02 ) {
        strcat(DtcBuf,"A511,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x10 && pRecvBuf[0x10]&0x02==0x02 ) {
        strcat(DtcBuf,"A511,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x10 && pRecvBuf[0x10]&0x04==0x04 ) {
        strcat(DtcBuf,"A511,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x10 && pRecvBuf[0x10]&0x08==0x08 ) {
        strcat(DtcBuf,"A511,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x07 && pRecvBuf[0x07]&0x04==0x04 ) {
        strcat(DtcBuf,"A511,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x07 && pRecvBuf[0x07]&0x08==0x08 ) {
        strcat(DtcBuf,"A511,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x08 && pRecvBuf[0x08]&0x10==0x10 ) {
        strcat(DtcBuf,"A512,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x10==0x10 ) {
        strcat(DtcBuf,"A512,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x10 && pRecvBuf[0x10]&0x01==0x01 ) {
        strcat(DtcBuf,"A513,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x80==0x80 ) {
        strcat(DtcBuf,"A513,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0A && pRecvBuf[0x0A]&0x02==0x02 ) {
        strcat(DtcBuf,"A513,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x80==0x80 ) {
        strcat(DtcBuf,"A513,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x02==0x02 ) {
        strcat(DtcBuf,"A513,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x07 && pRecvBuf[0x07]&0x01==0x01 ) {
        strcat(DtcBuf,"A513,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x0B && pRecvBuf[0x0B]&0x08==0x08 ) {
        strcat(DtcBuf,"A514,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x05 && pRecvBuf[0x05]&0x08==0x08 ) {
        strcat(DtcBuf,"A514,");
        dtcCnt++;
    }
    return dtcCnt;
}
uint8_t GetFaultCodeAll_BCM_D2194_5(uint8_t * pRecvBuf , uint8_t* DtcBuf)
{
    uint8_t dtcCnt = 0;
    if( !pRecvBuf)
        return 0;
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x01==0x01 ) {
        strcat(DtcBuf,"A70B,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x02==0x02 ) {
        strcat(DtcBuf,"A70A,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x04==0x04 ) {
        strcat(DtcBuf,"A701,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x10==0x10 ) {
        strcat(DtcBuf,"A709,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x02 && pRecvBuf[0x02]&0x80==0x80 ) {
        strcat(DtcBuf,"A707,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x03 && pRecvBuf[0x03]&0x10==0x10 ) {
        strcat(DtcBuf,"A70C,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x03 && pRecvBuf[0x03]&0x20==0x20 ) {
        strcat(DtcBuf,"A704,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x02==0x02 ) {
        strcat(DtcBuf,"A708,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x04==0x04 ) {
        strcat(DtcBuf,"A70D,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x04 && pRecvBuf[0x04]&0x08==0x08 ) {
        strcat(DtcBuf,"A706,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x05 && pRecvBuf[0x05]&0x01==0x01 ) {
        strcat(DtcBuf,"A70E,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x05 && pRecvBuf[0x05]&0x02==0x02 ) {
        strcat(DtcBuf,"A703,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x08 && pRecvBuf[0x08]&0x04==0x04 ) {
        strcat(DtcBuf,"A70F,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >= 0x08 && pRecvBuf[0x08]&0x10==0x10 ) {
        strcat(DtcBuf,"A710,");
        dtcCnt++;
    }
    return dtcCnt;
}



uint8_t GetFaultCodeAll_TRANSMISSION_D21C2(uint8_t * pRecvBuf , uint8_t* DtcBuf)
{

    uint8_t dtcCnt = 0;


    if( !pRecvBuf)
        return 0;
    if(strlen(pRecvBuf) >=0x1B && pRecvBuf[0x1B]&0x20==0x20) {
        strcat(DtcBuf,"6324,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x1A && pRecvBuf[0x1A]&0x20==0x20) {
        strcat(DtcBuf,"6324,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x19 && pRecvBuf[0x19]&0x20==0x20) {
        strcat(DtcBuf,"6324,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x18 && pRecvBuf[0x18]&0x20==0x20) {
        strcat(DtcBuf,"6324,");
        dtcCnt++;
    }
    if(strlen(pRecvBuf) >=0x1C && pRecvBuf[0x1C]&0x20==0x20) {
        strcat(DtcBuf,"6324,");
        dtcCnt++;
    }
    return dtcCnt;

}


bool IsThisTypeOfReadDtc(uint8_t Cnt , const ReadDtcTypeFilte *pRdType)
{
    uint8_t i = 0;
    uint8_t j = 0;
    uint8_t number = 0;
    CalcResult CRest[45];
    CalcResult TempCRest = {0};
    uint8_t recvbuf[128];
    uint8_t crCnt = 0;
    for(i = 0 ; i < Cnt ; i++)
    {
        number = pro_SendRecv((uint8_t*)pRdType[i].FitlerCmd,recvbuf);
        if(number > 0)
        {
            for(j = 0 ; j < pRdType[i].FilteCnt ; j++)
            {
               // printfUartObdiideBug("pRdType[i].SingleFitle[j].pos == %02x ,pRdType[i].SingleFitle[j].andNum== %02x,pRdType[i].SingleFitle[j].con==%02x\r\n", pRdType[i].SingleFitle[j].pos,pRdType[i].SingleFitle[j].andNum,pRdType[i].SingleFitle[j].con);
               // printfUartObdiideBug("recvbuf[ pRdType[i].SingleFitle[j].pos]== %02x\r\n",recvbuf[ pRdType[i].SingleFitle[j].pos]);
                if( (recvbuf[ pRdType[i].SingleFitle[j].pos] & pRdType[i].SingleFitle[j].andNum) == pRdType[i].SingleFitle[j].con)
                {
                    CRest[crCnt].cmdNo = i;
                    CRest[crCnt].conNum = pRdType[i].SingleFitle[j].conNum;
                    CRest[crCnt].Result = pRdType[i].SingleFitle[j].en;
                    crCnt++;
                }
                else
                {
                    CRest[crCnt].cmdNo = i;
                    CRest[crCnt].conNum = pRdType[i].SingleFitle[j].conNum;
                    CRest[crCnt].Result = 0x00;
                    crCnt++;
                }
            }
        }

    }


    for(i = 0; i < crCnt ; i++)
    {
        TempCRest.cmdNo = CRest[i].cmdNo;
        TempCRest.conNum = CRest[i].conNum;
        TempCRest.Result = CRest[i].Result;

        //只有一个的 result == ff 直接返回true

        if(CRest[i].Result == 0xff)
            return true;

       // printfUartObdiideBug("crCnt == %02x \r\n" ,crCnt);
      //  printfUartObdiideBug("TempCRest.cmdNo==%02x,TempCRest.conNum==%02x,TempCRest.Result ==%02x\r\n",TempCRest.cmdNo,TempCRest.conNum,TempCRest.Result);
        for(j = i + 1 ; j < crCnt ; j++)
        {
						
					
          //  printfUartObdiideBug("TempCRest.conNum == %02x TempCRest.Result == %02x\r\n" ,TempCRest.conNum,TempCRest.Result);
           // printfUartObdiideBug("CRest[j].conNum == %02x CRest[j].Result == %02x\r\n" ,CRest[j].conNum,CRest[j].Result );
            if( (TempCRest.conNum == CRest[j].conNum )&&  ((TempCRest.Result | CRest[j].Result) == 0xff))
                return true;
        }
    }

    return false;
}




/************************ (C) COPYRIGHT STMicroelectronics *****END OF FILE****/
